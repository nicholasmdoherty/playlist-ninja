{"version":3,"sources":["common/constants.js","modules/spotify-sign-in/SpotifyLoginButton.jsx","common/components/Spacer.jsx","modules/spotify-sign-in/LoginPage.jsx","modules/spotify-sign-in/SpotifyLogoutButton.jsx","common/components/Navbar.jsx","redux/actions/playlistActions.js","modules/profile/subcomponents/personal-playlists/PlaylistCard.jsx","modules/profile/subcomponents/personal-playlists/PersonalPlaylists.jsx","modules/profile/subcomponents/ProfileInfo.jsx","modules/profile/subcomponents/TopArtists.jsx","modules/profile/subcomponents/TopTracks.jsx","modules/profile/Profile.jsx","modules/playlist-builder/subcomponents/PlaylistInfo.jsx","modules/playlist-builder/subcomponents/PlaylistTrackStatistics.jsx","modules/playlist-builder/subcomponents/TrackTable.jsx","modules/playlist-builder/subcomponents/PlaylistTracklist.jsx","modules/playlist-builder/subcomponents/Recommendations.jsx","modules/playlist-builder/PlaylistBuilder.jsx","App.js","redux/actions/apiActions.js","serviceWorker.js","redux/reducers/playlistReducer.js","redux/reducers/rootReducer.js","redux/reducers/apiReducer.js","index.js","store.js"],"names":["clientID","setCookie","cname","cvalue","expirationHours","d","Date","setTime","getTime","expires","toUTCString","document","cookie","deepCamelCaseKeys","variable","Array","forEach","object","index","Object","keys","key","camelCaseKeys","isBelowSmallBreakpoint","window","innerWidth","isBelowExtraSmallBreakpoint","SpotifyLoginButton","props","autoBind","data","token","access_token","location","reload","clientId","redirectUri","onSuccess","this","handleAccessToken","onFailure","error","console","log","scope","className","Component","Spacer","style","height","percentage","pixels","LoginPage","id","SpotifyLogoutButton","Button","variant","onClick","handleLogout","color","width","fontSize","Navbar","addEventListener","forceUpdate","noButtons","to","setSelectedPlaylist","playlistId","spotifyApi","dispatch","a","playlistResponse","getPlaylist","then","body","notAllTracks","tracks","next","items","offset","getPlaylistTracks","concat","hash","type","payload","PlaylistCard","playlist","api","Col","xs","sm","lg","Row","Image","src","images","url","name","public","selectPlaylist","connect","PersonalPlaylists","state","playlists","getPersonalPlaylistData","userId","loadEditablePlaylists","setState","map","editablePlaylists","playlistsResponse","getUserPlaylists","limit","response","notAllPlaylists","morePlaylistsResponse","filter","owner","collaborative","loadUsersEditablePlaylists","ProfileInfo","profile","displayName","email","followers","externalUrls","total","TopArtists","topArtists","getMyTopArtists","topArtist","roundedCircle","fluid","TopTracks","topTracks","getMyTopTracks","topTrack","album","Profile","getMe","PlaylistInfo","description","PlaylistTrackStatistics","tempo","loudness","danceability","valence","energy","durationMs","popularity","calculateAverageStatistics","statistics","trackIds","playlistTrack","push","track","haveToLoop","length","trackStatistics","getAudioFeaturesForTracks","splice","audioFeatures","numOfStatisticsReceived","trackStatistic","duration","ms","seconds","hours","Math","floor","minutes","msToHM","round","ProgressBar","animated","striped","now","TrackTable","spotifyTrackId","tracksInPlaylist","play","context_uri","uri","uris","addTracksToPlaylist","updateCallback","removeTracksFromPlaylist","Table","responsive","hover","size","artists","artist","handleRemoveTrackFromPlaylist","handleAddTrackToPlaylist","handlePlayTrackOnSpotify","PlaylistTracklist","currentPage","newPageIndex","currentPageTracks","Pagination","Prev","disabled","changeCurrentPageHandler","Next","Recommendations","recommendedTracks","selectedArtistSeeds","0","1","2","selectedTrackSeeds","targetValence","targetEnergy","targetDanceability","targetBPM","targetPopularity","handleRecommendationGeneration","atLeastOneSeedSelected","updateRecommendations","seedArtistIds","seedIndex","seedTrackIds","query","target_bpm","target_valence","target_energy","target_danceability","target_popularity","seed_artists","seed_tracks","getRecommendations","message","artistSeeds","trackSeeds","event","target","value","playlistTracks","artistIdArray","Form","Group","controlId","seedNumber","md","Control","as","onChange","handleAddSeedArtist","numberOfSeedsFull","artistId","trackIdArray","handleAddSeedTrack","trackId","min","max","step","defaultValue","onSubmit","renderSeedTracksDropdown","renderSeedArtistsDropdown","renderAudioFeatureSliders","updateSelectedPlaylist","PlaylistBuilder","selectedPlaylist","href","App","loggedIn","checkForLogin","ca","split","i","c","charAt","substring","indexOf","getCookie","setSpotifyApi","Container","exact","path","component","React","accessToken","SpotifyWebApi","setAccessToken","setSpotifyApiAction","Boolean","hostname","match","combineReducers","action","ReactDOM","render","store","initialState","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","configureStore","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.3fa72608.chunk.js","sourcesContent":["import camelCaseKeys from \"camelcase-keys\";\n\nexport let spotifyScopes =\n  \"user-top-read user-library-read \" +\n  \"playlist-modify-public playlist-read-private playlist-read-collaborative \" +\n  \"user-read-email playlist-modify-private streaming\";\n\nexport let redirectURI = \"https://playlistninja.app\";\nexport let clientID = \"90a54f792a9e4fff94eec8d0c0075bd0\";\n\nexport function setCookie(cname, cvalue, expirationHours) {\n  var d = new Date();\n  d.setTime(d.getTime() + expirationHours * 60 * 60 * 1000);\n  var expires = \"expires=\" + d.toUTCString();\n  document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\n}\n\nexport function getCookie(cname) {\n  var name = cname + \"=\";\n  var ca = document.cookie.split(\";\");\n  for (var i = 0; i < ca.length; i++) {\n    var c = ca[i];\n    while (c.charAt(0) === \" \") {\n      c = c.substring(1);\n    }\n    if (c.indexOf(name) === 0) {\n      return c.substring(name.length, c.length);\n    }\n  }\n  return \"\";\n}\n\nexport function deepCamelCaseKeys(variable) {\n  if (variable === null) {\n    return null;\n  } else if (variable instanceof Array) {\n    variable.forEach((object, index) => {\n      variable[index] = deepCamelCaseKeys(object);\n    });\n\n    return variable;\n  } else if (variable instanceof Object) {\n    Object.keys(variable).forEach(key => {\n      variable[key] = deepCamelCaseKeys(variable[key]);\n    });\n\n    return camelCaseKeys(variable);\n  } else {\n    return variable;\n  }\n}\n\nexport function isBelowLargeBreakpoint() {\n  return window.innerWidth < 1200;\n}\n\nexport function isBelowMediumBreakpoint() {\n  return window.innerWidth < 992;\n}\n\nexport function isBelowSmallBreakpoint() {\n  return window.innerWidth < 768;\n}\n\nexport function isBelowExtraSmallBreakpoint() {\n  return window.innerWidth < 576;\n}\n\nexport function msToHM(ms) {\n  let seconds = ms / 1000;\n\n  let hours = Math.floor(seconds / 3600);\n  seconds = seconds % 3600;\n\n  let minutes = Math.floor(seconds / 60);\n\n  return {\n    hours,\n    minutes\n  };\n}\n","import React, { Component } from \"react\";\nimport SpotifyLogin from \"react-spotify-login\";\nimport { spotifyScopes, setCookie } from \"../../common/constants\";\nimport autoBind from \"react-autobind\";\nimport { redirectURI, clientID } from \"../../common/constants\";\nimport \"./sign-in.css\";\n\nclass SpotifyLoginButton extends Component {\n  constructor(props) {\n    super(props);\n\n    autoBind(this);\n  }\n\n  async handleAccessToken(data) {\n    let token = data.access_token;\n\n    // Set the token in cookies, we want to make sure that this happens first so we await it.\n    await setCookie(\"spotifyAccessToken\", token, 1);\n    document.location.reload();\n  }\n\n  render() {\n    return (\n      <SpotifyLogin\n        clientId={clientID}\n        redirectUri={redirectURI}\n        onSuccess={this.handleAccessToken}\n        onFailure={error => console.log(error)}\n        scope={spotifyScopes}\n        className=\"btn btn-md btn-primary\"\n      />\n    );\n  }\n}\n\nexport default SpotifyLoginButton;\n","import React, { Component } from \"react\";\n\nexport default class Spacer extends Component {\n  render() {\n    return (\n      <div\n        style={{\n          height: `${\n            this.props.percentage\n              ? this.props.percentage + \"vh\"\n              : this.props.pixels + \"px\"\n          }`\n        }}\n      ></div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport SpotifyLoginButton from \"./SpotifyLoginButton\";\nimport Spacer from \"../../common/components/Spacer\";\nimport \"./sign-in.css\";\n\nclass LoginPage extends Component {\n  render() {\n    return (\n      <div id=\"logged-out-wrapper\">\n        <div className=\"w-50 p-3 custom-card text-center\">\n          <Spacer percentage={7} />\n          <h3> Login to Playlist Ninja</h3>\n          <hr />\n          <SpotifyLoginButton />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default LoginPage;\n","import React, { Component } from \"react\";\nimport { setCookie } from \"../../common/constants\";\nimport { Button } from \"react-bootstrap\";\nimport autoBind from \"react-autobind\";\n\nclass SpotifyLogoutButton extends Component {\n  constructor(props) {\n    super(props);\n\n    autoBind(this);\n  }\n\n  handleLogout() {\n    // remove the cookie from the browser that holds the token to logout\n    setCookie(\"spotifyAccessToken\", \"\", 0);\n    document.location.reload();\n  }\n\n  render() {\n    return (\n      <Button\n        variant=\"link\"\n        onClick={this.handleLogout}\n        style={{ color: \"red\", width: \"fit-content\" }}\n      >\n        <p className=\"lead\" style={{ fontSize: \"1rem\" }}>\n          Log Out\n        </p>\n      </Button>\n    );\n  }\n}\n\nexport default SpotifyLogoutButton;\n","import React, { Component } from \"react\";\nimport \"./common-components.css\";\nimport { isBelowSmallBreakpoint } from \"../constants\";\nimport { Link } from \"react-router-dom\";\n\nexport default class Navbar extends Component {\n  componentDidMount() {\n    window.addEventListener(\"resize\", () => {\n      this.forceUpdate();\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"main-app-nav\">\n          {!this.props.noButtons && (\n            <div className=\"main-nav-button\">\n              <Link to=\"profile\" className=\"text-dark\">\n                <i\n                  className={`far fa-address-card ${\n                    isBelowSmallBreakpoint()\n                      ? \"main-nav-icon-phone\"\n                      : \"main-nav-icon-desktop\"\n                  }`}\n                />\n              </Link>\n            </div>\n          )}\n\n          <div className=\"main-nav-button\">\n            <i\n              className={`fa fa-user-ninja p-2 ${\n                isBelowSmallBreakpoint()\n                  ? \"main-nav-icon-phone\"\n                  : \"main-nav-icon-desktop\"\n              }`}\n            />\n            {isBelowSmallBreakpoint() ? (\n              <h6 className=\"m-0\">PLAYLIST NINJA</h6>\n            ) : (\n              <h4 className=\"m-0\">PLAYLIST NINJA</h4>\n            )}\n          </div>\n\n          {!this.props.noButtons && (\n            <div className=\"main-nav-button\">\n              <Link to=\"playlist-builder\" className=\"text-dark\">\n                <i\n                  className={`fa fa-sliders-h ${\n                    isBelowSmallBreakpoint()\n                      ? \"main-nav-icon-phone\"\n                      : \"main-nav-icon-desktop\"\n                  }`}\n                />\n              </Link>\n            </div>\n          )}\n        </div>\n        <div className=\"main-app-nav-ghost\" />\n      </div>\n    );\n  }\n}\n","export const setSelectedPlaylist = (\n  playlistId,\n  spotifyApi\n) => async dispatch => {\n  let playlistResponse = null;\n\n  await spotifyApi\n    .getPlaylist(playlistId)\n    .then(\n      async data => {\n        playlistResponse = data.body;\n\n        let notAllTracks = playlistResponse.tracks.next;\n\n        playlistResponse.tracks = playlistResponse.tracks.items;\n\n        if (notAllTracks) {\n          let offset = 100;\n\n          while (notAllTracks) {\n            await spotifyApi\n              .getPlaylistTracks(playlistId, { offset })\n              .then(data => {\n                if (!data.body.next) {\n                  notAllTracks = false;\n                }\n\n                offset += 100;\n\n                playlistResponse.tracks = playlistResponse.tracks.concat(\n                  data.body.items\n                );\n              });\n          }\n        }\n      },\n      error => {\n        playlistResponse = error;\n      }\n    )\n    .then(() => {\n      window.location.hash = \"#/playlist-builder\";\n    });\n\n  dispatch({\n    type: \"SET_SELECTED_PLAYLIST\",\n    payload: playlistResponse\n  });\n};\nexport const loadUsersEditablePlaylists = (\n  userId,\n  spotifyApi\n) => async dispatch => {\n  let playlistsResponse = null;\n\n  await spotifyApi.getUserPlaylists(userId, { limit: 50 }).then(\n    async response => {\n      playlistsResponse = response.body.items;\n      let notAllPlaylists = response.body.next;\n\n      if (notAllPlaylists) {\n        let offset = 50;\n\n        while (notAllPlaylists) {\n          await spotifyApi\n            .getUserPlaylists(userId, { limit: 50, offset })\n            .then(morePlaylistsResponse => {\n              if (!morePlaylistsResponse.body.next) {\n                notAllPlaylists = false;\n              }\n\n              offset += 50;\n\n              playlistsResponse = playlistsResponse.concat(\n                morePlaylistsResponse.body.items\n              );\n            });\n        }\n      }\n\n      playlistsResponse = playlistsResponse.filter(playlist => {\n        return playlist.owner.id == userId || playlist.collaborative;\n      });\n    },\n    error => {\n      playlistsResponse = error;\n    }\n  );\n\n  dispatch({\n    type: \"LOAD_EDITABLE_PLAYLISTS\",\n    payload: playlistsResponse\n  });\n};\n","import React, { Component } from \"react\";\nimport { Row, Col, Image, Button } from \"react-bootstrap\";\nimport autoBind from \"react-autobind\";\nimport { connect } from \"react-redux\";\nimport \"./playlists.css\";\nimport { setSelectedPlaylist } from \"../../../../redux/actions/playlistActions\";\nimport {\n  isBelowSmallBreakpoint,\n  isBelowExtraSmallBreakpoint\n} from \"../../../../common/constants\";\n\nclass PlaylistCard extends Component {\n  constructor(props) {\n    super(props);\n\n    autoBind(this);\n  }\n\n  selectPlaylist() {\n    this.props.dispatch(\n      setSelectedPlaylist(this.props.playlist.id, this.props.api)\n    );\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"resize\", () => {\n      this.forceUpdate();\n    });\n  }\n\n  render() {\n    let { playlist } = this.props;\n\n    return (\n      <Col xs={12} sm={12} lg={12} className=\"playlist-card-col\">\n        <Row\n          className={\n            !isBelowSmallBreakpoint()\n              ? \"playlist-card content-card playlist-row-height p-1\"\n              : \"playlist-card content-card p-1\"\n          }\n        >\n          <Col\n            xs={12}\n            sm={6}\n            className={`playlist-card-content text-center d-flex ${\n              isBelowExtraSmallBreakpoint() ? \"space-between\" : \"\"\n            }`}\n          >\n            <Image\n              src={playlist.images[0] ? playlist.images[0].url : null}\n              className={\n                isBelowSmallBreakpoint()\n                  ? \"mobile-playlist-card-image\"\n                  : \"desktop-playlist-card-image\"\n              }\n            />\n            <div\n              className={\n                isBelowExtraSmallBreakpoint() ? \"text-right\" : \"text-left\"\n              }\n            >\n              <h5 className=\"m-1 ml-2\">{playlist.name}</h5>\n              <p className=\"ml-2 m-0\">\n                {playlist.public ? \"Public\" : \"Private\"}\n              </p>\n            </div>\n          </Col>\n\n          <Col\n            xs={12}\n            sm={6}\n            className={isBelowExtraSmallBreakpoint() ? \"p-0\" : \"\"}\n          >\n            {isBelowExtraSmallBreakpoint() && (\n              <div className=\"mobile-playlist-card-button-wrapper\">\n                <Button\n                  variant=\"primary\"\n                  className=\"\"\n                  onClick={this.selectPlaylist}\n                >\n                  Edit\n                </Button>\n                <Button variant=\"outline-danger\" className=\"\">\n                  Unfollow\n                </Button>\n              </div>\n            )}\n\n            {!isBelowExtraSmallBreakpoint() && (\n              <div className=\"desktop-playlist-card-button-wrapper\">\n                <Button variant=\"outline-danger\" className=\"m-1\">\n                  Unfollow\n                </Button>\n                <Button\n                  variant=\"primary\"\n                  className=\"m-1\"\n                  onClick={this.selectPlaylist}\n                >\n                  Edit\n                </Button>\n              </div>\n            )}\n          </Col>\n        </Row>\n      </Col>\n    );\n  }\n}\n\nexport default connect()(PlaylistCard);\n","import React, { Component } from \"react\";\nimport { Row, Col } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport PlaylistCard from \"./PlaylistCard\";\nimport Spacer from \"../../../../common/components/Spacer\";\nimport { loadUsersEditablePlaylists } from \"../../../../redux/actions/playlistActions\";\n\nclass PersonalPlaylists extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      playlists: null,\n      error: null\n    };\n  }\n\n  componentDidMount() {\n    this.getPersonalPlaylistData();\n  }\n\n  getPersonalPlaylistData() {\n    let { userId, api } = this.props;\n\n    if (userId) {\n      this.props.loadEditablePlaylists(userId, api);\n    } else {\n      this.setState({ error: \"No user ID found, please reload\" });\n    }\n  }\n\n  render() {\n    if (this.props.playlists) {\n      let { playlists } = this.props;\n\n      return (\n        <Row className=\"text-center m-3 pb-2\">\n          <Col xs={12}>\n            <h3 className=\"display-5\"> My Playlists </h3>\n            <Spacer percentage={3} />\n          </Col>\n\n          {playlists.map(playlist => {\n            return <PlaylistCard playlist={playlist} api={this.props.api} />;\n          })}\n        </Row>\n      );\n    } else {\n      return null;\n    }\n  }\n}\n\nexport const mapStateToProps = state => {\n  return {\n    api: state.api.spotifyApi,\n    playlists: state.playlist.editablePlaylists\n  };\n};\n\nexport const mapDispatchToProps = dispatch => {\n  return {\n    loadEditablePlaylists: (userId, spotifyApi) =>\n      dispatch(loadUsersEditablePlaylists(userId, spotifyApi))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(PersonalPlaylists);\n","import React, { Component } from \"react\";\nimport { Image, Col, Row } from \"react-bootstrap\";\nimport Spacer from \"../../../common/components/Spacer\";\nimport SpotifyLogoutButton from \"../../spotify-sign-in/SpotifyLogoutButton\";\n\nclass ProfileInfo extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    let { profile } = this.props;\n\n    if (profile) {\n      let {\n        profile: { displayName, email, id, images, externalUrls, followers }\n      } = this.props;\n\n      return (\n        <Row>\n          <Col xs={12} className=\"text-center break-long-words\">\n            <Image\n              src={images[0] ? images[0].url : \"\"}\n              className=\"drop-shadow profile-image\"\n            />\n            <Spacer percentage={5} />\n            <h1 className=\"display-4\">{displayName}</h1>\n            <h5 className=\"lead\">{email}</h5>\n            <h2 className=\"lead mb-0\">{followers.total} followers</h2>\n            <SpotifyLogoutButton />\n          </Col>\n        </Row>\n      );\n    } else {\n      return null;\n    }\n  }\n}\n\nexport default ProfileInfo;\n","import React, { Component } from \"react\";\nimport { Image, Col, Row } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport { deepCamelCaseKeys } from \"../../../common/constants\";\nimport Spacer from \"../../../common/components/Spacer\";\n\nclass TopArtists extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      topArtists: null,\n      error: null\n    };\n  }\n\n  componentDidMount() {\n    this.props.api.spotifyApi.getMyTopArtists({ limit: 6 }).then(\n      data => {\n        this.setState({ topArtists: data.body });\n      },\n      error => {\n        this.setState({ error: deepCamelCaseKeys(error) });\n      }\n    );\n\n    this.forceUpdate();\n  }\n\n  render() {\n    return (\n      <Row className=\"p-3\">\n        <Col xs={12} className=\"text-center\">\n          <h3 className=\"display-5\"> Top Artists </h3>\n          <Spacer percentage={4} />\n        </Col>\n\n        {this.state.topArtists &&\n          this.state.topArtists.items.map(topArtist => {\n            return (\n              <Col xs={6} sm={4} lg={2} className=\"text-center\">\n                <div className=\"p-2 break-long-words\">\n                  <Image\n                    src={topArtist.images[0].url}\n                    roundedCircle\n                    fluid\n                    className=\"drop-shadow mb-3\"\n                  />\n                  <p className=\"lead\">{topArtist.name}</p>\n                </div>\n              </Col>\n            );\n          })}\n      </Row>\n    );\n  }\n}\n\nlet mapStateToProps = state => {\n  return {\n    api: state.api\n  };\n};\n\nexport default connect(mapStateToProps)(TopArtists);\n","import React, { Component } from \"react\";\nimport { Image, Col, Row } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport { deepCamelCaseKeys } from \"../../../common/constants\";\nimport Spacer from \"../../../common/components/Spacer\";\n\nclass TopTracks extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      topTracks: null,\n      error: null\n    };\n  }\n\n  componentDidMount() {\n    this.props.api.spotifyApi.getMyTopTracks({ limit: 12 }).then(\n      data => {\n        this.setState({ topTracks: data.body });\n      },\n      error => {\n        this.setState({ error: deepCamelCaseKeys(error) });\n      }\n    );\n\n    this.forceUpdate();\n  }\n\n  render() {\n    return (\n      <Row className=\"p-3\">\n        <Col xs={12} className=\"text-center\">\n          <h3 className=\"display-5\"> Top Tracks </h3>\n          <Spacer percentage={4} />\n        </Col>\n\n        {this.state.topTracks &&\n          this.state.topTracks.items.map(topTrack => {\n            return (\n              <Col xs={6} sm={4} lg={2} className=\"text-center\">\n                <div className=\"p-2 break-long-words\">\n                  <Image\n                    src={topTrack.album.images[0].url}\n                    fluid\n                    className=\"drop-shadow mb-3\"\n                  />\n                  <p className=\"lead\">{topTrack.name}</p>\n                </div>\n              </Col>\n            );\n          })}\n      </Row>\n    );\n  }\n}\n\nlet mapStateToProps = state => {\n  return {\n    api: state.api\n  };\n};\n\nexport default connect(mapStateToProps)(TopTracks);\n","import React, { Component } from \"react\";\nimport \"./profile.css\";\nimport Spacer from \"../../common/components/Spacer\";\nimport PersonalPlaylists from \"./subcomponents/personal-playlists/PersonalPlaylists\";\nimport ProfileInfo from \"./subcomponents/ProfileInfo\";\nimport TopArtists from \"./subcomponents/TopArtists\";\nimport TopTracks from \"./subcomponents/TopTracks\";\nimport { connect } from \"react-redux\";\nimport { deepCamelCaseKeys } from \"../../common/constants\";\n\nclass Profile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      profile: null,\n      error: null\n    };\n  }\n\n  componentDidMount() {\n    this.props.api.spotifyApi.getMe().then(\n      data => {\n        this.setState({ profile: deepCamelCaseKeys(data.body) });\n      },\n      error => {\n        this.setState({ error: deepCamelCaseKeys(error) });\n      }\n    );\n\n    this.forceUpdate();\n  }\n\n  render() {\n    let { profile } = this.state;\n\n    if (profile) {\n      return (\n        <div className=\"profile-wrapper\">\n          <ProfileInfo profile={profile} />\n          <Spacer percentage={5} />\n          <hr className=\"w-75\" />\n          <Spacer percentage={5} />\n          <TopArtists />\n          <Spacer percentage={5} />\n          <hr className=\"w-75\" />\n          <Spacer percentage={5} />\n          <TopTracks />\n          <Spacer percentage={5} />\n          <hr className=\"w-75\" />\n          <Spacer percentage={5} />\n          <PersonalPlaylists userId={profile.id} />\n        </div>\n      );\n    } else {\n      return null;\n    }\n  }\n}\n\nlet mapStateToProps = state => {\n  return {\n    api: state.api\n  };\n};\n\nexport default connect(mapStateToProps)(Profile);\n","import React, { Component } from \"react\";\nimport \"../playlist-builder.css\";\nimport { Image, Col, Row } from \"react-bootstrap\";\nimport { isBelowSmallBreakpoint } from \"../../../common/constants\";\n\nexport default class PlaylistInfo extends Component {\n  componentDidMount() {\n    window.addEventListener(\"resize\", () => {\n      this.forceUpdate();\n    });\n  }\n\n  render() {\n    let { playlist } = this.props;\n\n    return (\n      <div id=\"playlist-info-wrapper\" className=\"p-2\">\n        <Row>\n          <Col className=\"playlist-image-wrapper\" xs={12} sm={6}>\n            {playlist.images[0] ? (\n              <Image\n                src={playlist.images[0].url}\n                className=\"playlist-info-image\"\n              />\n            ) : null}\n          </Col>\n          <Col\n            className=\"playlist-title-desc-wrapper text-right break-long-words p-3\"\n            xs={12}\n            sm={6}\n          >\n            <h2 className={!isBelowSmallBreakpoint() ? \"display-4\" : \"\"}>\n              {playlist.name}\n            </h2>\n            <p>{playlist.description || \"No description provided.\"}</p>\n            <p>\n              {playlist.followers.total}{\" \"}\n              {playlist.followers.total == 1 ? \"follower\" : \"followers\"}\n            </p>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport {\n  deepCamelCaseKeys,\n  msToHM,\n  isBelowSmallBreakpoint\n} from \"../../../common/constants\";\nimport { Row, Col, ProgressBar } from \"react-bootstrap\";\n\nclass PlaylistTrackStatistics extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      tempo: 0,\n      loudness: 0,\n      danceability: 0,\n      valence: 0,\n      energy: 0,\n      durationMs: 0,\n      popularity: 0\n    };\n  }\n\n  componentDidMount() {\n    this.calculateAverageStatistics();\n\n    window.addEventListener(\"resize\", () => {\n      this.forceUpdate();\n    });\n  }\n\n  async calculateAverageStatistics() {\n    let { api, tracks } = this.props;\n\n    let statistics = {\n      tempo: null,\n      danceability: null,\n      valence: null,\n      energy: null,\n      durationMs: null,\n      popularity: null\n    };\n\n    let trackIds = [];\n\n    tracks.forEach(playlistTrack => {\n      trackIds.push(playlistTrack.track.id);\n      statistics.popularity =\n        statistics.popularity + playlistTrack.track.popularity;\n    });\n\n    let haveToLoop = trackIds.length > 100;\n\n    let trackStatistics = [];\n\n    if (trackIds.length !== 0) {\n      await api\n        .getAudioFeaturesForTracks(trackIds.splice(0, 100))\n        .then(data => {\n          let response = deepCamelCaseKeys(data.body);\n\n          if (response.audioFeatures) {\n          }\n          trackStatistics = trackStatistics.concat(response.audioFeatures);\n        });\n\n      if (haveToLoop) {\n        let numOfStatisticsReceived = 100;\n\n        while (haveToLoop) {\n          await api\n            .getAudioFeaturesForTracks(trackIds.splice(0, 100))\n            .then(data => {\n              let response = deepCamelCaseKeys(data.body);\n              trackStatistics = trackStatistics.concat(response.audioFeatures);\n              numOfStatisticsReceived += response.audioFeatures.length;\n            });\n\n          if (numOfStatisticsReceived === tracks.length) {\n            haveToLoop = false;\n          }\n        }\n      }\n\n      trackStatistics.forEach(trackStatistic => {\n        if (trackStatistic !== null) {\n          statistics.tempo = statistics.tempo + trackStatistic.tempo;\n          statistics.danceability =\n            statistics.danceability + trackStatistic.danceability;\n          statistics.valence = statistics.valence + trackStatistic.valence;\n          statistics.energy = statistics.energy + trackStatistic.energy;\n          statistics.durationMs =\n            statistics.durationMs + trackStatistic.durationMs;\n        }\n      });\n\n      this.setState({\n        tempo: statistics.tempo / tracks.length,\n        danceability: statistics.danceability / tracks.length,\n        valence: statistics.valence / tracks.length,\n        energy: statistics.energy / tracks.length,\n        durationMs: statistics.durationMs,\n        popularity: statistics.popularity / tracks.length\n      });\n    }\n  }\n\n  render() {\n    let {\n      tempo,\n      danceability,\n      valence,\n      energy,\n      durationMs,\n      popularity\n    } = this.state;\n\n    if (!(tempo && danceability && valence && energy && durationMs)) {\n      return (\n        <div className=\"m-1 mt-3\">\n          <Row className=\"p-2 justify-content-center\">\n            <Col xs={12} className=\"p-2 mb-2 text-center\">\n              No tracks in this playlist, so there are no statistics.\n            </Col>\n          </Row>\n        </div>\n      );\n    }\n\n    let duration = msToHM(Math.round(durationMs));\n\n    return (\n      <div className=\"m-1 mt-3\">\n        <Row className=\"p-2 justify-content-center\">\n          <Col xs={4} sm={4} className=\"p-2 mb-2 text-center\">\n            <p\n              className={`mb-1 ${\n                isBelowSmallBreakpoint() ? \"mobile-small-font\" : \"\"\n              }`}\n            >\n              Energy:\n            </p>\n            <ProgressBar animated striped now={energy * 100} />\n          </Col>\n          <Col xs={4} sm={4} className=\"p-2 mb-2 text-center\">\n            <p\n              className={`mb-1 ${\n                isBelowSmallBreakpoint() ? \"mobile-small-font\" : \"\"\n              }`}\n            >\n              Danceability:\n            </p>\n            <ProgressBar animated striped now={danceability * 100} />\n          </Col>\n          <Col xs={4} sm={4} className=\"p-2 mb-2 text-center\">\n            <p\n              className={`mb-1 ${\n                isBelowSmallBreakpoint() ? \"mobile-small-font\" : \"\"\n              }`}\n            >\n              Valence:\n            </p>\n            <ProgressBar animated striped now={valence * 100} />\n          </Col>\n        </Row>\n        <Row className=\"p-2 justify-content-center\">\n          <Col xs={4} sm={4} className=\"p-2 mb-2 text-center\">\n            <p\n              className={`mb-1 ${\n                isBelowSmallBreakpoint() ? \"mobile-small-font\" : \"\"\n              }`}\n            >\n              Tempo: <br />\n              {Math.round(tempo)}BPM\n            </p>\n          </Col>\n          <Col xs={4} sm={4} className=\"p-2 mb-2 text-center\">\n            <p\n              className={`mb-1 ${\n                isBelowSmallBreakpoint() ? \"mobile-small-font\" : \"\"\n              }`}\n            >\n              Duration: <br />\n              {duration.hours > 0 ? duration.hours + \"hrs\" : \"\"}{\" \"}\n              {duration.minutes > 0 ? duration.minutes + \"mins\" : \"\"}\n            </p>\n          </Col>\n          <Col xs={4} sm={4} className=\"p-2 mb-2 text-center\">\n            <p\n              className={`mb-1 ${\n                isBelowSmallBreakpoint() ? \"mobile-small-font\" : \"\"\n              }`}\n            >\n              Popularity: <br />\n              {Math.round(popularity)}\n            </p>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n\nexport default PlaylistTrackStatistics;\n","import React, { Component } from \"react\";\nimport { Table, Button, Image } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport autoBind from \"react-autobind\";\nimport { setSelectedPlaylist } from \"../../../redux/actions/playlistActions\";\nimport \"../playlist-builder.css\";\n\nclass TrackTable extends Component {\n  constructor(props) {\n    super(props);\n\n    autoBind(this);\n  }\n\n  /**\n   * Handles playling a single track on the user's currently active spotify device.\n   * @param {string} spotifyTrackId The ID of the spotify track that should be played.\n   */\n  handlePlayTrackOnSpotify(spotifyTrackId) {\n    return () => {\n      let { api, playlistId, tracksInPlaylist } = this.props;\n\n      if (tracksInPlaylist) {\n        api\n          .play({\n            context_uri: `spotify:playlist:${playlistId}`,\n            offset: { uri: `spotify:track:${spotifyTrackId}` }\n          })\n          .then(\n            response => {\n              //TODO: Handle response data and store currently playing.\n            },\n            error => {\n              //TODO: Handle error case\n              console.error(error);\n            }\n          );\n      } else {\n        api\n          .play({\n            uris: [`spotify:track:${spotifyTrackId}`]\n          })\n          .then(\n            response => {\n              //TODO: Handle response data and store currently playing.\n            },\n            error => {\n              //TODO: Handle error case\n              console.error(error);\n            }\n          );\n      }\n    };\n  }\n\n  /**\n   * Handles adding a single track to the playlist with the id given to the TrackTable\n   * @param {string} spotifyTrackId The ID of the spotify track that should be added.\n   */\n  handleAddTrackToPlaylist(spotifyTrackId) {\n    return () => {\n      let { playlistId, api } = this.props;\n\n      api\n        .addTracksToPlaylist(playlistId, [`spotify:track:${spotifyTrackId}`])\n        .then(\n          async response => {\n            // refresh the selected playlist\n            // TODO: make an action to add it instead of reloading the whole playlist.\n            await setSelectedPlaylist(playlistId, api);\n            if (this.props.updateCallback) {\n              this.props.updateCallback();\n            }\n          },\n          error => {\n            //TODO: Handle error case\n            console.error(error);\n          }\n        );\n    };\n  }\n\n  /**\n   * Handles removing a single track to the playlist with the id given to the TrackTable\n   * @param {string} spotifyTrackId The ID of the spotify track that should be removed.\n   */\n  handleRemoveTrackFromPlaylist(spotifyTrackId) {\n    return () => {\n      let { playlistId, api, setSelectedPlaylist } = this.props;\n\n      api\n        .removeTracksFromPlaylist(playlistId, [\n          { uri: `spotify:track:${spotifyTrackId}` }\n        ])\n        .then(\n          async response => {\n            // refresh the selected playlist\n            // TODO: make an action to add it instead of reloading the whole playlist.\n            await setSelectedPlaylist(playlistId, api);\n\n            if (this.props.updateCallback) {\n              this.props.updateCallback();\n            }\n          },\n          error => {\n            //TODO: Handle error case\n            console.error(error);\n          }\n        );\n    };\n  }\n\n  render() {\n    return (\n      <Table responsive striped hover size=\"sm\" className=\"text-left\">\n        <thead></thead>\n        <tbody>\n          {this.props.tracks.map(track => {\n            return (\n              <tr>\n                <td className=\"maxw-50-view\">\n                  <div className=\"d-flex align-center\">\n                    {track.album.images[0] && (\n                      <Image\n                        src={track.album.images[0].url}\n                        className=\"track-table-image m-1\"\n                      />\n                    )}\n                    <div className=\"break-long-words\">\n                      <p className=\"track-table-title\">{track.name}</p>\n                      <p className=\"track-table-font \">\n                        {track.artists.map((artist, index) => {\n                          return index === track.artists.length - 1\n                            ? artist.name\n                            : artist.name + \", \";\n                        })}\n                      </p>\n                    </div>\n                  </div>\n                </td>\n                <td className=\"h-100 break-long-words d-flex justify-end p-1 align-center\">\n                  {this.props.tracksInPlaylist ? (\n                    <Button\n                      onClick={this.handleRemoveTrackFromPlaylist(track.id)}\n                      className=\"mr-1 mt-1 mb-1\"\n                      variant=\"danger\"\n                    >\n                      -\n                    </Button>\n                  ) : (\n                    <Button\n                      onClick={this.handleAddTrackToPlaylist(track.id)}\n                      className=\"mr-1 mt-1 mb-1\"\n                    >\n                      +\n                    </Button>\n                  )}\n                  <Button\n                    className=\"ml-1 mt-1 mb-1\"\n                    onClick={this.handlePlayTrackOnSpotify(track.id)}\n                  >\n                    {\" \"}\n                    Play{\" \"}\n                  </Button>\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </Table>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    api: state.api.spotifyApi\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setSelectedPlaylist: (playlistId, spotifyApi) =>\n      dispatch(setSelectedPlaylist(playlistId, spotifyApi))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TrackTable);\n","import React, { Component } from \"react\";\nimport { isBelowSmallBreakpoint } from \"../../../common/constants\";\nimport TrackTable from \"./TrackTable\";\nimport { Pagination } from \"react-bootstrap\";\nimport autoBind from \"react-autobind\";\n\nclass PlaylistTracklist extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentPage: 0\n    };\n\n    autoBind(this);\n  }\n\n  /**\n   * Returns an event handler that changes the current page to the\n   * page with the given index.\n   * @param {number} newPageIndex The index of the page to change to.\n   */\n  changeCurrentPageHandler(newPageIndex) {\n    return () => {\n      this.setState({ currentPage: newPageIndex });\n    };\n  }\n\n  render() {\n    let { currentPage } = this.state;\n    let { tracks } = this.props;\n\n    // Copy the tracks and splice the current page from the copy.\n    let tracksCopy = tracks.concat([]);\n    let currentPageTracks = tracksCopy.splice(currentPage * 8, 8);\n\n    // Map the playlist track objects into the actual track objects for display.\n    currentPageTracks = currentPageTracks.map(\n      playlistTrack => playlistTrack.track\n    );\n\n    return (\n      <div>\n        <div className=\"text-center\">\n          <h4> Track List </h4>\n          <br />\n        </div>\n        <TrackTable\n          tracks={currentPageTracks}\n          tracksInPlaylist={true}\n          playlistId={this.props.playlistId}\n        />\n        <div className=\"d-flex justify-content-center\">\n          <Pagination>\n            <Pagination.Prev\n              disabled={currentPage === 0}\n              onClick={this.changeCurrentPageHandler(\n                this.state.currentPage - 1\n              )}\n            />\n            <Pagination.Next\n              disabled={(currentPage + 1) * 8 >= tracks.length}\n              onClick={this.changeCurrentPageHandler(\n                this.state.currentPage + 1\n              )}\n            />\n          </Pagination>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PlaylistTracklist;\n","import React, { Component } from \"react\";\nimport TrackTable from \"./TrackTable\";\nimport { connect } from \"react-redux\";\nimport { Form, Button, Row, Col } from \"react-bootstrap\";\nimport autoBind from \"react-autobind\";\nimport Slider from \"rc-slider\";\nimport { setSelectedPlaylist } from \"../../../redux/actions/playlistActions\";\n\nclass Recommendations extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      recommendedTracks: [],\n      selectedArtistSeeds: {\n        0: \"\",\n        1: \"\",\n        2: \"\"\n      },\n      selectedTrackSeeds: {\n        0: \"\",\n        1: \"\",\n        2: \"\"\n      },\n      targetValence: 0.5,\n      targetEnergy: 0.5,\n      targetDanceability: 0.5,\n      targetBPM: 100,\n      targetPopularity: 50,\n      error: null\n    };\n\n    autoBind(this);\n\n    window.addEventListener(\"resize\", () => {\n      this.forceUpdate();\n    });\n  }\n\n  componentDidMount() {\n    this.handleRecommendationGeneration();\n  }\n\n  /**\n   * A method to update the selected playlist. It calls the redux action to load a selected playlist with this playlist's id.\n   */\n  updateSelectedPlaylist() {\n    let { api, playlistId, setSelectedPlaylist } = this.props;\n    setSelectedPlaylist(playlistId, api);\n  }\n\n  /**\n   * Determines whether or not we should generate recommendations.\n   * Checks that there is at least one seed selected, if not it sets an\n   * error in the state.\n   *\n   * @returns void\n   */\n  handleRecommendationGeneration() {\n    let { selectedArtistSeeds, selectedTrackSeeds } = this.state;\n\n    let atLeastOneSeedSelected = false;\n\n    Object.keys(selectedArtistSeeds).forEach(index => {\n      if (selectedArtistSeeds[index] !== \"\") {\n        atLeastOneSeedSelected = true;\n      }\n    });\n\n    if (!atLeastOneSeedSelected) {\n      Object.keys(selectedTrackSeeds).forEach(index => {\n        if (selectedTrackSeeds[index] !== \"\") {\n          atLeastOneSeedSelected = true;\n        }\n      });\n    }\n\n    if (atLeastOneSeedSelected) {\n      this.updateRecommendations();\n    } else {\n      this.setState({\n        error: \"You must choose at least one seed for recommendations.\"\n      });\n    }\n  }\n\n  /**\n   * Updates the recommendations for the playlist with the currently\n   * selected values and seeds and updates the table.\n   *\n   * @returns void\n   */\n  updateRecommendations() {\n    let { api } = this.props;\n    let {\n      selectedArtistSeeds,\n      selectedTrackSeeds,\n      targetValence,\n      targetEnergy,\n      targetDanceability,\n      targetBPM,\n      targetPopularity\n    } = this.state;\n\n    let seedArtistIds = [];\n    Object.keys(selectedArtistSeeds).forEach(seedIndex => {\n      if (selectedArtistSeeds[seedIndex] !== \"\") {\n        seedArtistIds.push(selectedArtistSeeds[seedIndex]);\n      }\n    });\n\n    let seedTrackIds = [];\n    Object.keys(selectedTrackSeeds).forEach(seedIndex => {\n      if (selectedTrackSeeds[seedIndex] !== \"\") {\n        seedTrackIds.push(selectedTrackSeeds[seedIndex]);\n      }\n    });\n\n    let query = {\n      limit: 35,\n      target_bpm: targetBPM,\n      target_valence: targetValence,\n      target_energy: targetEnergy,\n      target_danceability: targetDanceability,\n      target_popularity: targetPopularity,\n      seed_artists: seedArtistIds,\n      seed_tracks: seedTrackIds\n    };\n\n    api.getRecommendations(query).then(\n      data => {\n        this.setState({ recommendedTracks: data.body.tracks, error: null });\n      },\n      error => {\n        this.setState({ error: error.message });\n      }\n    );\n  }\n\n  /**\n   * Method to see if all the seeds for recommendations are filled since\n   * Spotify only allows 5 seeds of any type.\n   *\n   * @returns a boolean representing whether or not we have the max amounts of seeds.\n   */\n  numberOfSeedsFull() {\n    let { selectedArtistSeeds, selectedTrackSeeds } = this.state;\n\n    let artistSeeds = [];\n    let trackSeeds = [];\n\n    [0, 1, 2].forEach(seedIndex => {\n      if (selectedArtistSeeds[seedIndex] !== \"\") {\n        artistSeeds.push(selectedArtistSeeds[seedIndex]);\n      }\n\n      if (selectedTrackSeeds[seedIndex] !== \"\") {\n        trackSeeds.push(selectedTrackSeeds[seedIndex]);\n      }\n    });\n\n    return artistSeeds.length + trackSeeds.length >= 5;\n  }\n\n  /**\n   * Returns an event handler that sets the seed track with the given\n   * index to the value of the event's target.\n   *\n   * @param {number} index The index of the seed artist to change.\n   */\n  handleAddSeedArtist(index) {\n    return event => {\n      this.setState({\n        selectedArtistSeeds: {\n          ...this.state.selectedArtistSeeds,\n          [index]: event.target.value\n        }\n      });\n    };\n  }\n\n  /**\n   * Renders the dropdown menus for selecting seed artists.\n   *\n   * @returns JSX.Element\n   */\n  renderSeedArtistsDropdown() {\n    let { playlistTracks } = this.props;\n\n    let artists = {};\n\n    playlistTracks.forEach(playlistTrack => {\n      playlistTrack.track.artists.forEach(artist => {\n        artists[artist.id] = artist.name;\n      });\n    });\n\n    let artistIdArray = Object.keys(artists);\n\n    return (\n      <Form.Group controlId=\"seedArtists\">\n        <Row className=\"w-100 m-0\">\n          <Col xs={12} className=\"text-left\">\n            <h5 className=\"lead\">Similar Artists</h5>\n          </Col>\n\n          {[1, 2, 3].map(seedNumber => {\n            let { selectedArtistSeeds } = this.state;\n\n            return (\n              <Col sm={12} md={4} className=\"p-1\">\n                <Form.Control\n                  key={seedNumber - 1}\n                  as=\"select\"\n                  onChange={this.handleAddSeedArtist(seedNumber - 1)}\n                  disabled={\n                    selectedArtistSeeds[seedNumber - 1] === \"\" &&\n                    this.numberOfSeedsFull()\n                  }\n                >\n                  <option value=\"\">None</option>\n                  {artistIdArray.map(artistId => {\n                    return (\n                      <option value={artistId}>{artists[artistId]}</option>\n                    );\n                  })}\n                </Form.Control>\n              </Col>\n            );\n          })}\n        </Row>\n      </Form.Group>\n    );\n  }\n\n  /**\n   * Returns an event handler that sets the seed track with the given\n   * index to the value of the event's target.\n   *\n   * @param {number} index The index of the seed track to change.\n   */\n  handleAddSeedTrack(index) {\n    return event => {\n      this.setState({\n        selectedTrackSeeds: {\n          ...this.state.selectedTrackSeeds,\n          [index]: event.target.value\n        }\n      });\n    };\n  }\n\n  /**\n   * Renders the dropdown menus for selecting seed tracks.\n   *\n   * @returns JSX.Element\n   */\n  renderSeedTracksDropdown() {\n    let { playlistTracks } = this.props;\n\n    let tracks = {};\n\n    playlistTracks.forEach(playlistTrack => {\n      let track = playlistTrack.track;\n\n      tracks[track.id] = track.name;\n    });\n\n    let trackIdArray = Object.keys(tracks);\n\n    return (\n      <Form.Group controlId=\"seedTracks\">\n        <Row className=\"w-100 m-0\">\n          <Col xs={12} className=\"text-left\">\n            <h5 className=\"lead\">Similar Tracks</h5>\n          </Col>\n\n          {[1, 2, 3].map(seedNumber => {\n            let { selectedTrackSeeds } = this.state;\n\n            return (\n              <Col sm={12} md={4} className=\"p-1\">\n                <Form.Control\n                  key={seedNumber - 1}\n                  as=\"select\"\n                  onChange={this.handleAddSeedTrack(seedNumber - 1)}\n                  disabled={\n                    selectedTrackSeeds[seedNumber - 1] === \"\" &&\n                    this.numberOfSeedsFull()\n                  }\n                >\n                  <option value=\"\">None</option>\n                  {trackIdArray.map(trackId => {\n                    return <option value={trackId}>{tracks[trackId]}</option>;\n                  })}\n                </Form.Control>\n              </Col>\n            );\n          })}\n        </Row>\n      </Form.Group>\n    );\n  }\n\n  /**\n   * Renders the sliders for selecting target audio features for the\n   * recommended tracks.\n   *\n   * @returns JSX.Element\n   */\n  renderAudioFeatureSliders() {\n    return (\n      <Row className=\"w-100 m-0\">\n        <Col xs={12} className=\"text-left\">\n          <h5 className=\"lead\">Target Statistics</h5>\n        </Col>\n\n        <Col xs={12} className=\"p-2 d-flex align-center space-between\">\n          <p className=\"mb-0 mr-2\"> Danceability </p>\n          <Slider\n            min={0}\n            max={100}\n            step={1}\n            defaultValue={50}\n            value={this.state.targetDanceability * 100}\n            onChange={value =>\n              this.setState({ targetDanceability: value / 100 })\n            }\n            className=\"w-50\"\n          />\n        </Col>\n        <Col xs={12} className=\"p-2 d-flex align-center space-between\">\n          <p className=\"mb-0 mr-2\"> Energy </p>\n          <Slider\n            min={0}\n            max={100}\n            step={1}\n            defaultValue={50}\n            value={this.state.targetEnergy * 100}\n            onChange={value => this.setState({ targetEnergy: value / 100 })}\n            className=\"w-50\"\n          />\n        </Col>\n\n        <Col xs={12} className=\"p-2 d-flex align-center space-between\">\n          <p className=\"mb-0 mr-2\"> Valence </p>\n          <Slider\n            min={0}\n            max={100}\n            step={1}\n            defaultValue={50}\n            value={this.state.targetValence * 100}\n            onChange={value => this.setState({ targetValence: value / 100 })}\n            className=\"w-50\"\n          />\n        </Col>\n\n        <Col xs={12} className=\"p-2 d-flex align-center space-between\">\n          <p className=\"mb-0 mr-2\"> Tempo </p>\n          <Slider\n            min={0}\n            max={250}\n            step={1}\n            defaultValue={100}\n            value={this.state.targetBPM}\n            onChange={value => this.setState({ targetBPM: value })}\n            className=\"w-50\"\n          />\n        </Col>\n\n        <Col xs={12} className=\"p-2 d-flex align-center space-between\">\n          <p className=\"mb-0 mr-2\"> Popularity </p>\n          <Slider\n            min={0}\n            max={100}\n            step={1}\n            defaultValue={100}\n            value={this.state.targetPopularity}\n            onChange={value => this.setState({ targetPopularity: value })}\n            className=\"w-50\"\n          />\n        </Col>\n      </Row>\n    );\n  }\n\n  render() {\n    let { error } = this.state;\n\n    return (\n      <div className=\"text-right\">\n        <div className=\"w-100 text-center\">\n          <h4> Generate Recommendations </h4>\n          <br />\n        </div>\n        <Form onSubmit={data => console.log(data)}>\n          {this.renderSeedTracksDropdown()}\n          {this.renderSeedArtistsDropdown()}\n          {this.renderAudioFeatureSliders()}\n        </Form>\n        <Button onClick={this.handleRecommendationGeneration}>\n          Generate Tracks\n        </Button>\n        <hr />\n        {error && (\n          <div className=\"text-center mt-3\">\n            <h5 className=\"p-3 lead text-danger\">\n              <i className=\"fa fa-exclamation-triangle\"></i> {error}\n            </h5>\n          </div>\n        )}\n        {!error && (\n          <div className=\"mt-3\">\n            <TrackTable\n              playlistId={this.props.playlistId}\n              tracks={this.state.recommendedTracks}\n              updateCallback={this.updateSelectedPlaylist}\n            />\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\n/**\n * Maps the spotify api to the props of the recommendations component so that\n * we can use it to find recommendations.\n *\n * @param {*} state The incoming redux state\n */\nconst mapStateToProps = state => {\n  return {\n    api: state.api.spotifyApi\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setSelectedPlaylist: (playlistId, spotifyApi) =>\n      dispatch(setSelectedPlaylist(playlistId, spotifyApi))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Recommendations);\n","import React, { Component } from \"react\";\nimport { Col } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport Spacer from \"../../common/components/Spacer\";\nimport PlaylistInfo from \"./subcomponents/PlaylistInfo\";\nimport \"./playlist-builder.css\";\nimport PlaylistTrackStatistics from \"./subcomponents/PlaylistTrackStatistics\";\nimport TrackTable from \"./subcomponents/TrackTable\";\nimport PlaylistTracklist from \"./subcomponents/PlaylistTracklist\";\nimport Recommendations from \"./subcomponents/Recommendations\";\n\nclass PlaylistBuilder extends Component {\n  render() {\n    let { selectedPlaylist, api } = this.props;\n\n    if (!selectedPlaylist) {\n      return (\n        <div id=\"playlist-builder-wrapper\" className=\"p-4\">\n          <Col xs={12}>\n            <Spacer percentage={3} />\n            <div className=\"w-100 h-100 no-selected-playlist\">\n              <h1 className=\"display-4\"> No playlist selected... </h1>\n              <br />\n              <p className=\"lead\">\n                Please{\" \"}\n                <a href=\"#/profile\">select a playlist from your profile</a> to\n                begin editing.\n              </p>\n            </div>\n          </Col>\n        </div>\n      );\n    }\n\n    return (\n      <div id=\"playlist-builder-wrapper\" className=\"p-4\">\n        <PlaylistInfo playlist={selectedPlaylist} />\n        <PlaylistTrackStatistics tracks={selectedPlaylist.tracks} api={api} />\n        <br />\n        <PlaylistTracklist\n          tracks={selectedPlaylist.tracks}\n          playlistId={selectedPlaylist.id}\n        />\n        <br />\n        <hr />\n        <br />\n        <Recommendations\n          playlistTracks={selectedPlaylist.tracks}\n          playlistId={selectedPlaylist.id}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    api: state.api ? state.api.spotifyApi : null,\n    selectedPlaylist: state.playlist ? state.playlist.selectedPlaylist : null\n  };\n};\n\nexport default connect(mapStateToProps)(PlaylistBuilder);\n","import React from \"react\";\nimport { HashRouter, Route } from \"react-router-dom\";\nimport LoginPage from \"./modules/spotify-sign-in/LoginPage\";\nimport SpotifyLogoutButton from \"./modules/spotify-sign-in/SpotifyLogoutButton\";\nimport { getCookie } from \"./common/constants\";\nimport \"./App.css\";\nimport Navbar from \"./common/components/Navbar\";\nimport { connect } from \"react-redux\";\nimport { setSpotifyApiAction } from \"./redux/actions/apiActions\";\nimport Profile from \"./modules/profile/Profile\";\nimport PlaylistBuilder from \"./modules/playlist-builder/PlaylistBuilder\";\nimport { Container, Row } from \"react-bootstrap\";\nimport autoBind from \"react-autobind\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loggedIn: false,\n      token: \"\"\n    };\n\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    // Add an event listener to update the App component\n    // when the hash link changes. This is to check if the cookie is expired or not.\n    window.addEventListener(\"hashchange\", () => {\n      this.checkForLogin();\n    });\n\n    this.checkForLogin();\n  }\n\n  checkForLogin() {\n    let token = getCookie(\"spotifyAccessToken\");\n\n    if (token !== \"\" && token != this.state.token) {\n      this.setState({ loggedIn: true, token: token });\n      this.props.setSpotifyApi(token);\n    } else if (token === \"\") {\n      this.setState({ loggedIn: false, token: \"\" });\n    }\n  }\n\n  render() {\n    let { loggedIn } = this.state;\n\n    return (\n      <HashRouter>\n        <div className=\"\" id=\"app-wrapper\">\n          <Navbar noButtons={!loggedIn} />\n\n          {loggedIn ? (\n            <div id=\"playlists-view-wrapper\">\n              <Container>\n                <Row>\n                  <Route exact path=\"(|/profile)\" component={Profile} />\n                  <Route\n                    exact\n                    path=\"/playlist-builder\"\n                    component={PlaylistBuilder}\n                  />\n                </Row>\n              </Container>\n            </div>\n          ) : (\n            <LoginPage />\n          )}\n        </div>\n      </HashRouter>\n    );\n  }\n}\n\nconst mapStateToProps = state => {};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setSpotifyApi: accessToken => dispatch(setSpotifyApiAction(accessToken))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App);\n","import SpotifyWebApi from \"spotify-web-api-node\";\nimport { clientID, redirectURI } from \"../../common/constants\";\n\nexport const setSpotifyApiAction = accessToken => dispatch => {\n  let spotifyApi = new SpotifyWebApi({\n    clientId: clientID,\n    redirectUri: redirectURI\n  });\n\n  spotifyApi.setAccessToken(accessToken);\n\n  dispatch({\n    type: \"SET_SPOTIFY_API\",\n    payload: spotifyApi\n  });\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export default (state = {}, action) => {\n  switch (action.type) {\n    case \"SET_SELECTED_PLAYLIST\":\n      return {\n        ...state,\n        selectedPlaylist: action.payload\n      };\n    case \"LOAD_EDITABLE_PLAYLISTS\":\n      return {\n        ...state,\n        editablePlaylists: action.payload\n      };\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\nimport apiReducer from \"./apiReducer\";\nimport playlistReducer from \"./playlistReducer\";\n\nexport default combineReducers({\n  api: apiReducer,\n  playlist: playlistReducer\n});\n","export default (state = {}, action) => {\n  switch (action.type) {\n    case \"SET_SPOTIFY_API\":\n      return {\n        ...state,\n        spotifyApi: action.payload\n      };\n    default:\n      return state;\n  }\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"./common/slider.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { Provider } from \"react-redux\";\nimport configureStore from \"./store\";\n\nReactDOM.render(\n  <Provider\n    store={configureStore({ api: null, playlist: { editablePlaylists: [] } })}\n  >\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./redux/reducers/rootReducer\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\n\n/*\n * src/store.js\n * With initialState\n */\nexport default function configureStore(initialState = {}) {\n  return createStore(\n    rootReducer,\n    initialState,\n    composeWithDevTools(applyMiddleware(thunk))\n  );\n}\n"],"sourceRoot":""}