(this["webpackJsonpspotify-playlist-builder"]=this["webpackJsonpspotify-playlist-builder"]||[]).push([[0],{114:function(e,t,a){e.exports=a(218)},119:function(e,t,a){},120:function(e,t,a){},134:function(e,t,a){},141:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){},211:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(11),l=a.n(i),c=(a(119),a(120),a(14)),s=a(15),o=a(22),u=a(17),m=a(16),p=a(41),d=a(19),f=a(7),h=a.n(f),E=a(20),y=a(103),g=a.n(y),v=a(104),b=a.n(v),N="90a54f792a9e4fff94eec8d0c0075bd0";function k(e,t,a){var n=new Date;n.setTime(n.getTime()+60*a*60*1e3);var r="expires="+n.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"}function O(e){return null===e?null:e instanceof Array?(e.forEach((function(t,a){e[a]=O(t)})),e):e instanceof Object?(Object.keys(e).forEach((function(t){e[t]=O(e[t])})),b()(e)):e}var j=a(25),w=a.n(j),x=(a(84),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),n=t.call(this,e),w()(Object(o.a)(n)),n}return Object(s.a)(a,[{key:"handleAccessToken",value:function(){var e=Object(E.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.access_token,e.next=3,k("spotifyAccessToken",a,1);case 3:document.location.reload();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(g.a,{buttonText:"Log in with Spotify",clientId:N,redirectUri:"https://playlistninja.app",onSuccess:this.handleAccessToken,onFailure:function(e){return console.error(e)},scope:"user-top-read user-library-read playlist-modify-public playlist-read-private playlist-read-collaborative user-read-email playlist-modify-private streaming",id:"login-button",className:"log-in-button"})}}]),a}(n.Component)),T=function(){return r.a.createElement("div",{id:"logged-out-wrapper"},r.a.createElement("img",{id:"ninja-image",src:"/assets/ninja-login.svg"}),r.a.createElement("span",{className:"pn-logo-text"},"playlistninja.app"),r.a.createElement("div",{id:"login-page-text"},r.a.createElement("h1",{id:"sign-in-header"},"More control over Spotify recommendations."),r.a.createElement("p",{id:"sign-in-subtext"},"Finding new music for your playlists just got a lot easier, with more customization over the recommendation algorithm on Spotify."),r.a.createElement(x,null)),r.a.createElement("div",{id:"links-container"},r.a.createElement("span",null),r.a.createElement("a",{id:"image-attribution-link",href:"https://storyset.com/people"},"Ninja illustration by Storyset")))},S=a(223),I=(n.Component,a(134),a(5)),C=a(18),P=a(10),_=a.n(P),M=(a(141),a(107)),A=a.n(M),L=function(e){return function(t){t({type:"SET_USER_ID",payload:e})}},R=Object(C.b)((function(e){return{api:e.api}}),(function(e){return{setUserIdInRedux:function(t){e(L(t))}}}))((function(e){var t=e.api,a=e.setUserIdInRedux,i=Object(n.useState)({}),l=Object(I.a)(i,2),c=l[0],s=l[1],o=Object(n.useState)({}),u=Object(I.a)(o,2),m=(u[0],u[1]);return Object(n.useEffect)((function(){t.spotifyApi.getMe().then((function(e){var t=O(e.body);s(t),a(t.id)}),(function(e){m(O(e))}))}),[t.spotifyApi,a]),c.images&&c.displayName?window.innerWidth<768?r.a.createElement("div",null,r.a.createElement("div",{className:"main-app-nav mobile"},r.a.createElement("div",{className:"mobile-nav-first-row"},r.a.createElement("span",{className:"nav-app-name"},"playlistninja.app"),r.a.createElement("div",{className:"nav-right-container"},r.a.createElement("div",{className:"nav-right-logged-in-user"},r.a.createElement("img",{className:"spotify-account-pic",src:c.images.length>0?c.images[0].url:null}),r.a.createElement("span",{className:"nav-right-username"},c.displayName),r.a.createElement(_.a,{className:"logout-button",icon:"x",width:16,height:16,onClick:function(){k("spotifyAccessToken","",0),document.location.reload()}})))),r.a.createElement("div",{className:"mobile-nav-second-row"},r.a.createElement("span",{className:"navlink-container"},r.a.createElement(p.b,{to:"/playlist-builder",activeClassName:"nav-link-active"},r.a.createElement("span",{className:"nav-right-link"},"Edit Playlist")),r.a.createElement(p.b,{to:"/profile",activeClassName:"nav-link-active",isActive:function(){return"#/"===document.location.hash||"#/profile"===document.location.hash}},r.a.createElement("span",{className:"nav-right-link"},"My Profile"))))),r.a.createElement("div",{className:"main-app-nav-ghost"})):r.a.createElement("div",null,r.a.createElement("div",{className:"main-app-nav"},r.a.createElement("span",{className:"nav-app-name"},"playlistninja.app"),r.a.createElement("div",{className:"nav-right-container"},r.a.createElement("span",{className:"navlink-container"},r.a.createElement(p.b,{to:"/playlist-builder",activeClassName:"nav-link-active"},r.a.createElement("span",{className:"nav-right-link"},"Edit Playlist")),r.a.createElement(p.b,{to:"/profile",activeClassName:"nav-link-active"},r.a.createElement("span",{className:"nav-right-link"},"My Profile"))),r.a.createElement("div",{className:"nav-right-logged-in-user"},r.a.createElement("img",{className:"spotify-account-pic",src:c.images.length>0?c.images[0].url:null}),r.a.createElement("span",{className:"nav-right-username"},c.displayName),r.a.createElement(_.a,{className:"logout-button",icon:"x",width:16,height:16,onClick:function(){k("spotifyAccessToken","",0),document.location.reload()}})))),r.a.createElement("div",{className:"main-app-nav-ghost"})):null})),D=(a(154),function(e,t){return function(){var a=Object(E.a)(h.a.mark((function a(n){var r;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=null,a.next=3,t.getPlaylist(e).then(function(){var a=Object(E.a)(h.a.mark((function a(n){var i,l;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=n.body,i=r.tracks.next,r.tracks=r.tracks.items,!i){a.next=10;break}l=100;case 5:if(!i){a.next=10;break}return a.next=8,t.getPlaylistTracks(e,{offset:l}).then((function(e){e.body.next||(i=!1),l+=100,r.tracks=r.tracks.concat(e.body.items)}));case 8:a.next=5;break;case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),(function(e){r=e})).then((function(){window.location.hash="#/playlist-builder"}));case 3:n({type:"SET_SELECTED_PLAYLIST",payload:r});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}),F=(a(155),Object(C.b)((function(e){return{api:e.api.spotifyApi,playlists:e.playlist.editablePlaylists}}),(function(e){return{loadEditablePlaylists:function(t,a){return e(function(e,t){return function(){var a=Object(E.a)(h.a.mark((function a(n){var r;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=null,a.next=3,t.getUserPlaylists(e,{limit:50}).then(function(){var a=Object(E.a)(h.a.mark((function a(n){var i,l;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=n.body.items,!(i=n.body.next)){a.next=9;break}l=50;case 4:if(!i){a.next=9;break}return a.next=7,t.getUserPlaylists(e,{limit:50,offset:l}).then((function(e){e.body.next||(i=!1),l+=50,r=r.concat(e.body.items)}));case 7:a.next=4;break;case 9:r=r.filter((function(t){return t.owner.id==e||t.collaborative}));case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),(function(e){r=e}));case 3:n({type:"LOAD_EDITABLE_PLAYLISTS",payload:r});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},updateSelectedPlaylist:function(t,a){return e(D(t,a))},setUserIdInRedux:function(t){e(L(t))}}}))((function(e){var t=e.title,a=e.userId,i=e.api,l=e.playlists,c=e.loadEditablePlaylists,s=e.updateSelectedPlaylist,o=e.setUserIdInRedux,u=Object(n.useState)(!0),m=Object(I.a)(u,2),p=m[0],d=m[1],f=Object(n.useState)(null),h=Object(I.a)(f,2),E=h[0],y=(h[1],Object(n.useState)(1)),g=Object(I.a)(y,2),v=g[0],b=g[1],N=Object(n.useState)(1),k=Object(I.a)(N,2),j=k[0],w=k[1];if(Object(n.useEffect)((function(){if(a)c(a,i);else{var e="";a||i.getMe().then((function(t){e=O(t.body).id,o(e)}))}}),[i,c,o,a]),Object(n.useEffect)((function(){0!==l.length&&(w(Math.ceil(l.length/11)),d(!1))}),[l]),E)return"Error";return r.a.createElement("div",{className:"playlists-container"},r.a.createElement("span",{className:"playlists-header"},t),r.a.createElement("div",{className:"playlists-nav-row"},!p&&r.a.createElement("div",{className:"playlists-pagination"},r.a.createElement(_.a,{width:16,height:16,icon:"chevron-left",onClick:1===v?null:function(){b(v-1)},className:"playlists-pagination-arrow ".concat(1===v?"disabled":"")}),"Page ",v," / ",j,r.a.createElement(_.a,{width:16,height:16,icon:"chevron-right",onClick:v===j?null:function(){b(v+1)},className:"playlists-pagination-arrow ".concat(v===j?"disabled":"")}))),r.a.createElement("div",{className:"card-style playlists-card"},!p&&function(){var e=11*(v-1),t=l.slice(e,e+11);return r.a.createElement(r.a.Fragment,null,t.map((function(e,t){return r.a.createElement("div",{className:"playlist-row ".concat(t%2===1?"odd":"")},r.a.createElement("div",{className:"playlist-img-name"},r.a.createElement("img",{className:"playlist-image",width:60,height:60,src:e.images.length>0?e.images[0].url:"",alt:'"'.concat(e.name,'" Cover'),onError:function(e){var t=e.currentTarget;t.onerror=null,t.src="/assets/generic-image.png"}}),r.a.createElement("span",{className:"playlist-name"},e.name)),r.a.createElement("div",{className:"edit-button",onClick:function(){return s(e.id,i)}},r.a.createElement(_.a,{icon:"edit",width:16,height:16}),"Edit"))})))}(),p&&r.a.createElement("div",{className:"playlist-row"},"Loading...")))}))),q=(a(156),Object(C.b)((function(e){return{api:e.api.spotifyApi}}))((function(e){var t=e.api,a=Object(n.useState)([]),i=Object(I.a)(a,2),l=i[0],c=i[1],s=Object(n.useState)([]),o=Object(I.a)(s,2),u=o[0],m=o[1],p=Object(n.useState)([]),d=Object(I.a)(p,2),f=d[0],h=d[1],E=Object(n.useState)("short_term"),y=Object(I.a)(E,2),g=y[0],v=y[1],b=Object(n.useState)(null),N=Object(I.a)(b,2),k=N[0],O=N[1];Object(n.useEffect)((function(){t.getMyTopArtists({limit:5,time_range:"short_term"}).then((function(e){c(e.body.items)}),(function(e){O(e)})),t.getMyTopArtists({limit:5,time_range:"medium_term"}).then((function(e){m(e.body.items)}),(function(e){O(e)})),t.getMyTopArtists({limit:5,time_range:"long_term"}).then((function(e){h(e.body.items)}),(function(e){O(e)}))}),[t]);return r.a.createElement("div",{className:"top-artists-container"},r.a.createElement("span",{className:"top-artists-header"},"Top Artists"),r.a.createElement("div",{className:"top-artists-button-row"},r.a.createElement("div",{className:"top-artists-button ".concat("short_term"===g?"active":""),onClick:function(){v("short_term")}},"4 Weeks"),r.a.createElement("div",{className:"top-artists-button ".concat("medium_term"===g?"active":""),onClick:function(){v("medium_term")}},"6 Months"),r.a.createElement("div",{className:"top-artists-button ".concat("long_term"===g?"active":""),onClick:function(){v("long_term")}},"All Time")),r.a.createElement("div",{className:"card-style top-artists-card"},function(){var e=function(e){return r.a.createElement("div",{className:"artist-row"},r.a.createElement("img",{className:"top-artist-image",width:40,height:40,src:e.images.length>0?e.images[0].url:""}),r.a.createElement("span",{className:"artist-name"},e.name))};return k?"Error loading top artists.":l&&u&&f?"short_term"===g?r.a.createElement(r.a.Fragment,null,l.map((function(t){return e(t)}))):"medium_term"===g?r.a.createElement(r.a.Fragment,null,u.map((function(t){return e(t)}))):"long_term"===g?r.a.createElement(r.a.Fragment,null,f.map((function(t){return e(t)}))):void 0:"Loading..."}()))}))),V=(a(157),Object(C.b)((function(e){return{api:e.api.spotifyApi}}))((function(e){var t=e.api,a=Object(n.useState)([]),i=Object(I.a)(a,2),l=i[0],c=i[1],s=Object(n.useState)([]),o=Object(I.a)(s,2),u=o[0],m=o[1],p=Object(n.useState)([]),d=Object(I.a)(p,2),f=d[0],h=d[1],E=Object(n.useState)("short_term"),y=Object(I.a)(E,2),g=y[0],v=y[1],b=Object(n.useState)(null),N=Object(I.a)(b,2),k=N[0],O=N[1];Object(n.useEffect)((function(){t.getMyTopTracks({limit:5,time_range:"short_term"}).then((function(e){c(e.body.items)}),(function(e){O(e)})),t.getMyTopTracks({limit:5,time_range:"medium_term"}).then((function(e){m(e.body.items)}),(function(e){O(e)})),t.getMyTopTracks({limit:5,time_range:"long_term"}).then((function(e){h(e.body.items)}),(function(e){O(e)}))}),[t]);return r.a.createElement("div",{className:"top-tracks-container"},r.a.createElement("span",{className:"top-tracks-header"},"Top Tracks"),r.a.createElement("div",{className:"top-tracks-button-row"},r.a.createElement("div",{className:"top-tracks-button ".concat("short_term"===g?"active":""),onClick:function(){v("short_term")}},"4 Weeks"),r.a.createElement("div",{className:"top-tracks-button ".concat("medium_term"===g?"active":""),onClick:function(){v("medium_term")}},"6 Months"),r.a.createElement("div",{className:"top-tracks-button ".concat("long_term"===g?"active":""),onClick:function(){v("long_term")}},"All Time")),r.a.createElement("div",{className:"card-style top-tracks-card"},function(){var e=function(e){return r.a.createElement("div",{className:"top-track-row"},r.a.createElement("img",{className:"top-track-image",width:40,height:40,src:e.album.images.length>0?e.album.images[0].url:""}),r.a.createElement("span",{className:"top-track-name"},e.name))};return k?"Error loading top tracks.":l&&u&&f?"short_term"===g?r.a.createElement(r.a.Fragment,null,l.map((function(t){return e(t)}))):"medium_term"===g?r.a.createElement(r.a.Fragment,null,u.map((function(t){return e(t)}))):"long_term"===g?r.a.createElement(r.a.Fragment,null,f.map((function(t){return e(t)}))):void 0:"Loading..."}()))}))),Y=a(219),Q=a(220),U=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={profile:null,error:null},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.api.spotifyApi.getMe().then((function(t){e.setState({profile:O(t.body)})}),(function(t){e.setState({error:O(t)})})),this.forceUpdate()}},{key:"render",value:function(){var e=this.state.profile;return e?r.a.createElement("div",{className:"profile-wrapper"},r.a.createElement("span",{className:"profile-header"},"My Profile"),r.a.createElement(Y.a,null,r.a.createElement(Q.a,{xs:12,md:7},r.a.createElement(F,{title:"My Playlists",userId:e.id})),r.a.createElement(Q.a,{xs:12,md:5,className:"top-tracks-artists-col"},r.a.createElement(q,null),r.a.createElement(V,null)))):null}}]),a}(n.Component),z=Object(C.b)((function(e){return{api:e.api}}))(U),H=(n.Component,a(88),a(221)),G=(n.Component,a(89),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).renderTrackRow=function(e,t){return r.a.createElement("div",{className:"track-row ".concat(t%2===1?"odd":"")},r.a.createElement("div",{className:"track-row-image-title"},e.album.images[0]&&r.a.createElement(H.a,{width:60,height:60,src:e.album.images[0].url,className:"track-table-image"}),r.a.createElement("span",{className:"track-name"},e.name)),r.a.createElement("div",{className:"track-row-actions"},r.a.createElement("div",{className:"play-button",onClick:n.handlePlayTrackOnSpotify(e.id)},r.a.createElement(_.a,{icon:"play",width:16,height:16})),n.props.tracksInPlaylist?r.a.createElement("div",{className:"trash-button",onClick:n.handleRemoveTrackFromPlaylist(e.id)},r.a.createElement(_.a,{icon:"trash-2",width:16,height:16})):r.a.createElement("div",{className:"plus-button",onClick:n.handleAddTrackToPlaylist(e.id)},r.a.createElement(_.a,{icon:"plus",width:16,height:16}))))},w()(Object(o.a)(n)),n}return Object(s.a)(a,[{key:"handlePlayTrackOnSpotify",value:function(e){var t=this;return function(){var a=t.props,n=a.api,r=a.playlistId;a.tracksInPlaylist?n.play({context_uri:"spotify:playlist:".concat(r),offset:{uri:"spotify:track:".concat(e)}}).then((function(e){}),(function(e){console.error(e)})):n.play({uris:["spotify:track:".concat(e)]}).then((function(e){}),(function(e){console.error(e)}))}}},{key:"handleAddTrackToPlaylist",value:function(e){var t=this;return function(){var a=t.props,n=a.playlistId,r=a.api;r.addTracksToPlaylist(n,["spotify:track:".concat(e)]).then(function(){var e=Object(E.a)(h.a.mark((function e(a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(n,r);case 2:t.props.updateCallback&&t.props.updateCallback();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){console.error(e)}))}}},{key:"handleRemoveTrackFromPlaylist",value:function(e){var t=this;return function(){var a=t.props,n=a.playlistId,r=a.api,i=a.setSelectedPlaylist;r.removeTracksFromPlaylist(n,[{uri:"spotify:track:".concat(e)}]).then(function(){var e=Object(E.a)(h.a.mark((function e(a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(n,r);case 2:t.props.updateCallback&&t.props.updateCallback();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){console.error(e)}))}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.tracks.map((function(t,a){return e.renderTrackRow(t,a)})))}}]),a}(n.Component)),W=Object(C.b)((function(e){return{api:e.api.spotifyApi}}),(function(e){return{setSelectedPlaylist:function(t,a){return e(D(t,a))}}}))(G),B=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).numberPerPage=8,n.renderPaginationButton=function(){return r.a.createElement("div",{className:"tracklist-pagination"},r.a.createElement(_.a,{width:16,height:16,icon:"chevron-left",onClick:1===n.state.currentPage?null:n.changeCurrentPageHandler(n.state.currentPage-1),className:"tracklist-pagination-arrow ".concat(1===n.state.currentPage?"disabled":"")}),"Page ",n.state.currentPage," / ",n.state.numPages,r.a.createElement(_.a,{width:16,height:16,icon:"chevron-right",onClick:n.state.currentPage===n.state.numPages?null:n.changeCurrentPageHandler(n.state.currentPage+1),className:"tracklist-pagination-arrow ".concat(n.state.currentPage===n.state.numPages?"disabled":"")}))},n.renderSearchBar=function(){return r.a.createElement("div",{className:"tracklist-search"},r.a.createElement(_.a,{width:16,height:16,icon:"search"}),"Search")},n.renderSortDropdown=function(){return r.a.createElement("div",{className:"tracklist-sort"},"Sort",r.a.createElement(_.a,{width:16,height:16,icon:"chevron-down"}))},n.state={currentPage:1,numPages:Math.ceil(e.tracks.length/n.numberPerPage)},w()(Object(o.a)(n)),n}return Object(s.a)(a,[{key:"changeCurrentPageHandler",value:function(e){var t=this;return function(){t.setState({currentPage:e})}}},{key:"render",value:function(){var e=this.state.currentPage,t=this.props.tracks.concat([]),a=(e-1)*this.numberPerPage,n=t.slice(a,a+this.numberPerPage).map((function(e){return e.track}));return r.a.createElement("div",{className:"tracklist-container"},r.a.createElement("span",{className:"tracklist-header"},"Track List"),r.a.createElement("div",{className:"tracklist-button-row"},this.renderPaginationButton()),r.a.createElement("div",{className:"card-style tracklist-card"},r.a.createElement(W,{tracks:n,tracksInPlaylist:!0,playlistId:this.props.playlistId})))}}]),a}(n.Component),J=a(47);a(211),a(212);function $(e){var t=e.selectionList,a=e.title,i=e.buttonText,l=e.returnSelection,c=(e.isOpen,e.closeModal),s=Object(n.useState)(null),o=Object(I.a)(s,2),u=o[0],m=o[1];return r.a.createElement("div",{className:"select-modal-bg"},r.a.createElement("div",{className:"select-modal-container card-style"},r.a.createElement("div",{className:"select-modal-title-container"},r.a.createElement("span",{className:"select-modal-title"},a),r.a.createElement(_.a,{icon:"x",width:20,height:20,onClick:c,className:"exit-modal-button"})),r.a.createElement("div",{className:"select-modal-search"},r.a.createElement(_.a,{width:16,height:16,icon:"search"}),"Search"),r.a.createElement("div",{className:"select-modal-options-container"},t.map((function(e,t){return r.a.createElement("span",{className:"select-modal-option ".concat(t===u?"selected":""),onClick:function(){return m(t)}},e.displayName)}))),r.a.createElement("div",{className:"select-modal-button",onClick:function(){l(t[u]),c()}},i)))}var K=Object(C.b)((function(e){return{api:e.api.spotifyApi}}),(function(e){return{setSelectedPlaylist:function(t,a){return e(D(t,a))}}}))((function(e){var t=e.api,a=e.playlistId,i=e.setSelectedPlaylist,l=e.playlistTracks,c=Object(n.useState)("input"),s=Object(I.a)(c,2),o=s[0],u=s[1],m=Object(n.useState)(!1),p=Object(I.a)(m,2),d=p[0],f=p[1],h=Object(n.useState)("artists"),E=Object(I.a)(h,2),y=E[0],g=E[1],v=Object(n.useState)([]),b=Object(I.a)(v,2),N=b[0],k=b[1],O=Object(n.useState)([]),j=Object(I.a)(O,2),w=j[0],x=j[1],T=Object(n.useState)([]),S=Object(I.a)(T,2),C=S[0],P=S[1],M=Object(n.useState)(null),A=Object(I.a)(M,2),L=A[0],R=A[1],D=Object(n.useState)(null),F=Object(I.a)(D,2),q=F[0],V=F[1],Y=Object(n.useState)(null),Q=Object(I.a)(Y,2),U=Q[0],z=Q[1],H=Object(n.useState)(null),G=Object(I.a)(H,2),B=G[0],K=G[1],X=Object(n.useState)(null),Z=Object(I.a)(X,2),ee=Z[0],te=Z[1],ae=Object(n.useState)(null),ne=Object(I.a)(ae,2),re=ne[0],ie=ne[1],le=Object(n.useCallback)((function(){i(a,t)}),[i,a,t]),ce=Object(n.useCallback)((function(){var e={limit:15,seed_artists:w.map((function(e){return e.value})),seed_tracks:C.map((function(e){return e.value}))};B&&(e.target_bpm=B),L&&(e.target_valence=L),q&&(e.target_energy=q),U&&(e.target_danceability=U),ee&&(e.target_popularity=ee),t.getRecommendations(e).then((function(e){k(e.body.tracks),ie(null),u("songs")}),(function(e){ie(e.message),u("songs")}))}),[t,w,C,B,U,q,ee,L]),se=Object(n.useCallback)((function(){var e=!1;w.length+C.length>0&&(e=!0),e?ce():ie("You must choose at least one similar artist or track for recommendations")}),[w.length,C.length,ce]),oe=Object(n.useCallback)((function(){return w.length+C.length>=5}),[w.length,C.length]),ue=Object(n.useCallback)((function(){return r.a.createElement("div",{className:"seed-selection-container"},r.a.createElement("span",{className:"input-label"},"Similar Artists (up to 3)"),r.a.createElement("div",{className:"seed-selection-row"},w.map((function(e,t){return r.a.createElement("div",{className:"selected-seed"},e.displayName,r.a.createElement(_.a,{className:"selected-seed-remove",icon:"x",width:16,height:16,onClick:function(){x(w.filter((function(e,a){return a!==t})))}}))})),!oe()&&r.a.createElement("div",{className:"seed-selection-button",onClick:function(){g("artists"),f("true")}},r.a.createElement(_.a,{icon:"plus",width:16,height:16}))))}),[oe,w]),me=Object(n.useCallback)((function(){return r.a.createElement("div",{className:"seed-selection-container"},r.a.createElement("span",{className:"input-label"},"Similar Tracks (up to 3)"),r.a.createElement("div",{className:"seed-selection-row"},C.map((function(e,t){return r.a.createElement("div",{className:"selected-seed"},e.displayName,r.a.createElement(_.a,{className:"selected-seed-remove",icon:"x",width:16,height:16,onClick:function(){P(C.filter((function(e,a){return a!==t})))}}))})),!oe()&&r.a.createElement("div",{className:"seed-selection-button",onClick:function(){g("tracks"),f("true")}},r.a.createElement(_.a,{icon:"plus",width:16,height:16}))))}),[oe,C]),pe=Object(n.useCallback)((function(){return r.a.createElement("div",{className:"audio-feature-input"},r.a.createElement("div",{className:"input-container"},r.a.createElement("span",{className:"input-label"},"Target Danceability"),r.a.createElement(J.a,{min:0,max:100,step:1,defaultValue:50,value:U?100*U:0,onChange:function(e){return z(e?e/100:null)},className:"audio-slider"})),r.a.createElement("div",{className:"input-container"},r.a.createElement("span",{className:"input-label"},"Target Energy"),r.a.createElement(J.a,{min:0,max:100,step:1,defaultValue:50,value:q?100*q:0,onChange:function(e){return V(e?e/100:null)},className:"audio-slider"})),r.a.createElement("div",{className:"input-container"},r.a.createElement("span",{className:"input-label"},"Target Valence"),r.a.createElement(J.a,{min:0,max:100,step:1,defaultValue:50,value:L?100*L:0,onChange:function(e){return R(e?e/100:null)},className:"audio-slider"})),r.a.createElement("div",{className:"input-container"},r.a.createElement("span",{className:"input-label"},"Target Tempo"),r.a.createElement(J.a,{min:0,max:250,step:1,defaultValue:100,value:B||0,onChange:function(e){return K(e||null)},className:"audio-slider"})),r.a.createElement("div",{className:"input-container"},r.a.createElement("span",{className:"input-label"},"Target Popularity"),r.a.createElement(J.a,{min:0,max:100,step:1,defaultValue:100,value:ee||0,onChange:function(e){return e?te(e):V(null)},className:"audio-slider"})))}),[B,U,q,ee,L]),de=Object(n.useCallback)((function(){var e=[];return l.forEach((function(t){var a=t.track;e.push({displayName:a.name,value:a.id})})),e}),[l]),fe=Object(n.useCallback)((function(){var e=[];return l.forEach((function(t){t.track.artists.forEach((function(t){e.push({displayName:t.name,value:t.id})}))})),e}),[l]);return r.a.createElement("div",{className:"recommendations-container"},r.a.createElement("span",{className:"recommendations-header"},"Generate Recommendations"),r.a.createElement("div",{className:"recommendations-tab-row"},r.a.createElement("div",{className:"recommendations-tab ".concat("input"===o?"active":""),onClick:function(){return u("input")}},"Recommendations Input"),r.a.createElement("div",{className:"recommendations-tab ".concat("songs"===o?"active":""),onClick:function(){return u("songs")}},"Recommended Songs")),"input"===o&&r.a.createElement("div",{className:"recommendations-main-card card-style"},me(),ue(),pe(),r.a.createElement("div",{className:"recommendations-button",onClick:se},"Generate Recommendations"),re&&r.a.createElement("div",{className:"text-center"},r.a.createElement("h5",{className:"lead text-danger"},r.a.createElement("i",{className:"fa fa-exclamation-triangle"})," ",re))),"songs"===o&&r.a.createElement("div",{className:"card-style"},0===N.length&&r.a.createElement("div",{className:"recommendations-main-card card-style text-center"},r.a.createElement("span",null,"Looks like you haven't generated any recommendations yet.")),!re&&N.length>0&&r.a.createElement(W,{playlistId:a,tracks:N,updateCallback:le})),d&&"artists"===y&&r.a.createElement($,{title:"Add Similar Artist",selectionList:fe(),buttonText:"Select Artist",returnSelection:function(e){x(w.concat([e])),f(!1)},closeModal:function(){return f(!1)}}),d&&"tracks"===y&&r.a.createElement($,{title:"Add Similar Track",selectionList:de(),buttonText:"Select Track",returnSelection:function(e){P(C.concat([e])),f(!1)},closeModal:function(){return f(!1)}}))})),X=(a(213),function(e){var t=e.playlist,a=e.api,i=Object(n.useState)(!0),l=Object(I.a)(i,2),c=l[0],s=l[1],o=Object(n.useState)({}),u=Object(I.a)(o,2),m=u[0],p=u[1],d=Object(n.useState)("song_information"),f=Object(I.a)(d,2),y=f[0],g=f[1],v=Object(n.useCallback)(Object(E.a)(h.a.mark((function e(){var n,r,i,l,c,o,u,m;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.tracks,r={tempo:null,danceability:null,valence:null,energy:null,durationMs:null,popularity:null},i=[],n.forEach((function(e){i.push(e.track.id),r.popularity=r.popularity+e.track.popularity})),l=i.length>100,c=[],0===i.length){e.next=24;break}return e.next=9,a.getAudioFeaturesForTracks(i.splice(0,100)).then((function(e){var t=O(e.body);t.audioFeatures&&(c=c.concat(t.audioFeatures))}));case 9:if(!l){e.next=21;break}o=100;case 11:if(!l){e.next=21;break}return e.next=14,a.getAudioFeaturesForTracks(i.splice(0,100));case 14:u=e.sent,m=O(u.body),c=c.concat(m.audioFeatures),(o+=m.audioFeatures.length)===n.length&&(l=!1),e.next=11;break;case 21:c.forEach((function(e){null!==e&&(r.tempo=r.tempo+e.tempo,r.danceability=r.danceability+e.danceability,r.valence=r.valence+e.valence,r.energy=r.energy+e.energy,r.durationMs=r.durationMs+e.durationMs)})),p({tempo:r.tempo/n.length,danceability:r.danceability/n.length,valence:r.valence/n.length,energy:r.energy/n.length,durationMs:r.durationMs,popularity:r.popularity/n.length}),s(!1);case 24:case"end":return e.stop()}}),e)}))),[a,t]),b=function(e){return r.a.createElement("div",{className:"percentage-bar-container"},r.a.createElement("div",{className:"percent-full",style:{width:"".concat(e,"%")}}))};return Object(n.useEffect)((function(){v()}),[v]),c?"Loading...":r.a.createElement("div",{className:"playlist-stats-container"},r.a.createElement("span",{className:"playlist-stats-header"},"Playlist Statistics"),r.a.createElement("div",{className:"playlist-stats-button-row"},r.a.createElement("div",{className:"playlist-stats-button ".concat("song_information"===y?"active":""),onClick:function(){g("song_information")}},"Song Information"),r.a.createElement("div",{className:"playlist-stats-button ".concat("playlist_information"===y?"active":""),onClick:function(){g("playlist_information")}},"Playlist Information")),r.a.createElement("div",{className:"playlist-stats-content card-style"},"song_information"===y?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"playlist-stats-row"},r.a.createElement("span",{className:"playlist-stats-label"},"Tempo"),r.a.createElement("span",{className:"playlist-stats-font"},Math.round(m.tempo)," BPM")),r.a.createElement("div",{className:"playlist-stats-row"},r.a.createElement("span",{className:"playlist-stats-label"},"Energy"),b(100*m.energy.toFixed(2))),r.a.createElement("div",{className:"playlist-stats-row"},r.a.createElement("span",{className:"playlist-stats-label"},"Danceability"),b(100*m.danceability.toFixed(2))),r.a.createElement("div",{className:"playlist-stats-row"},r.a.createElement("span",{className:"playlist-stats-label"},"Valence"),b(100*m.valence.toFixed(2))),r.a.createElement("div",{className:"playlist-stats-row"},r.a.createElement("span",{className:"playlist-stats-label"},"Average Song Popularity"),b(m.popularity.toFixed(0)))):function(){var e=function(e){var t=e/1e3,a=Math.floor(t/3600);return t%=3600,{hours:a,minutes:Math.floor(t/60)}}(Math.round(m.durationMs));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"playlist-stats-row"},r.a.createElement("span",{className:"playlist-stats-label"},"Owner"),r.a.createElement("span",{className:"playlist-stats-font"},t.owner.display_name)),r.a.createElement("div",{className:"playlist-stats-row"},r.a.createElement("span",{className:"playlist-stats-label"},"Duration"),r.a.createElement("span",{className:"playlist-stats-font"},e.hours>0?e.hours+" hours":""," ",e.minutes>0?e.minutes+" minutes":"")),r.a.createElement("div",{className:"playlist-stats-row"},r.a.createElement("span",{className:"playlist-stats-label"},"Followers"),r.a.createElement("span",{className:"playlist-stats-font"},t.followers.total," Followers")),r.a.createElement("div",{className:"playlist-stats-row"},r.a.createElement("span",{className:"playlist-stats-label"},"Visibility"),r.a.createElement("span",{className:"playlist-stats-font"},t.public?"Public":"Private")),r.a.createElement("div",{className:"playlist-stats-row"},r.a.createElement("span",{className:"playlist-stats-label"},"Collaborative"),r.a.createElement("span",{className:"playlist-stats-font"},t.collaborative?"Yes":"No")))}()))}),Z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.selectedPlaylist,a=e.api,n=e.userId;return t?r.a.createElement("div",{id:"playlist-builder-wrapper"},r.a.createElement("span",{className:"edit-playlist-header"},"Edit Playlist"),r.a.createElement("div",{className:"playlist-info-card card-style"},r.a.createElement("img",{width:300,height:300,src:t.images.length>0?t.images[0].url:"",alt:'"'.concat(t.name,'" Cover'),onError:function(e){var t=e.currentTarget;t.onerror=null,t.src="/assets/generic-image.png"}}),r.a.createElement("div",{className:"playlist-info-card-inner"},r.a.createElement("div",{className:"playlist-info-card-name-desc"},r.a.createElement("span",{className:"playlist-info-card-name"},t.name),r.a.createElement("span",{className:"playlist-info-card-desc"},t.description||"No description provided.")))),r.a.createElement(Y.a,null,r.a.createElement(Q.a,{xs:7},r.a.createElement(B,{tracks:t.tracks,playlistId:t.id})),r.a.createElement(Q.a,{xs:5},r.a.createElement(X,{playlist:t,api:a}))),r.a.createElement(K,{playlistTracks:t.tracks,playlistId:t.id})):r.a.createElement("div",{id:"playlist-builder-wrapper"},r.a.createElement("span",{className:"edit-playlist-header"},"Edit Playlist"),r.a.createElement(F,{title:"Select a playlist to edit",userId:n}))}}]),a}(n.Component),ee=Object(C.b)((function(e){return{api:e.api?e.api.spotifyApi:null,selectedPlaylist:e.playlist?e.playlist.selectedPlaylist:null,userId:e.api?e.api.userId:null}}))(Z),te=a(222),ae=a(23),ne=a(113),re=(a(214),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("ul",{className:"likert"},r.a.createElement("li",null,r.a.createElement("input",{type:"radio",name:"question-".concat(this.props.questionNumber,"--likert"),value:"0",onInput:this.props.updateQuestionChoice}),r.a.createElement("label",null,"Strongly disagree")),r.a.createElement("li",null,r.a.createElement("input",{type:"radio",name:"question-".concat(this.props.questionNumber,"--likert"),value:"1",onInput:this.props.updateQuestionChoice})),r.a.createElement("li",null,r.a.createElement("input",{type:"radio",name:"question-".concat(this.props.questionNumber,"--likert"),value:"2",onInput:this.props.updateQuestionChoice}),r.a.createElement("label",null,"Neutral")),r.a.createElement("li",null,r.a.createElement("input",{type:"radio",name:"question-".concat(this.props.questionNumber,"--likert"),value:"3",onInput:this.props.updateQuestionChoice})),r.a.createElement("li",null,r.a.createElement("input",{type:"radio",name:"question-".concat(this.props.questionNumber,"--likert"),value:"4",onInput:this.props.updateQuestionChoice}),r.a.createElement("label",null,"Strongly agree"))))}}]),a}(n.Component)),ie=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"updateQuestionResult",value:function(e){var t=Number(e.target.value);this.props.updateQuestionResult(this.props.index,t)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",{className:"text-center"},r.a.createElement("strong",null,this.props.text)),r.a.createElement(re,{questionNumber:this.props.index,updateQuestionChoice:this.updateQuestionResult.bind(this)}))}}]),a}(n.Component),le={INVOLVEMENT_LEVEL:"involvement_level",COPING:"coping",PERSONAL_IDENTITY:"personal_identity",SOCIAL_IDENTITY:"social_identity",MOOD_ENHANCEMENT:"mood_enhancement"},ce=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={error:"",preferenceCode:"",questions:[{text:"With music I feel less lonely when alone",category:le.COPING},{text:"Music creates a good atmosphere when with others",category:le.MOOD_ENHANCEMENT},{text:"I recognize myself in the lyrics of my favourite artists",category:le.PERSONAL_IDENTITY},{text:"I influence my friends with my music taste",category:le.INVOLVEMENT_LEVEL},{text:"My friends have the same music taste as I do",category:le.SOCIAL_IDENTITY},{text:"Can\u2019t live without music",category:le.INVOLVEMENT_LEVEL},{text:"Artists are an example to me",category:le.PERSONAL_IDENTITY},{text:"Music makes other things less boring",category:le.MOOD_ENHANCEMENT},{text:"With music I can vent aggression",category:le.COPING},{text:"I find it important that my friends listen to the same music",category:le.SOCIAL_IDENTITY},{text:"Lyrics of my music often express how I feel",category:le.PERSONAL_IDENTITY},{text:"Music helps me get through my life",category:le.COPING},{text:"My favourite artists have ideas that appeal to me",category:le.PERSONAL_IDENTITY},{text:"Music helps against boredom",category:le.MOOD_ENHANCEMENT},{text:"Music helps me to relax and stop thinking about things",category:le.MOOD_ENHANCEMENT},{text:"I am always looking for new music",category:le.INVOLVEMENT_LEVEL},{text:"I can\u2019t be friends with someone who dislikes my music",category:le.SOCIAL_IDENTITY},{text:"I always play music when I feel sad",category:le.COPING},{text:"I know more than peers about music",category:le.INVOLVEMENT_LEVEL}]},n.updateQuizQuestionResult=n.updateQuizQuestionResult.bind(Object(o.a)(n)),n}return Object(s.a)(a,[{key:"updateQuizQuestionResult",value:function(e,t){var a=Object(ne.a)(this.state.questions),n=Object(ae.a)(Object(ae.a)({},this.state.questions[e]),{},{value:t});a[e]=n,this.setState({questions:a})}},{key:"getMusicDimensionScores",value:function(){var e=Object(E.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.api.getMyTopArtists({limit:50,time_range:"long_term"});case 2:return t=e.sent,a={RC:0,IR:0,UC:0,ER:0},t.body.items.forEach((function(e){for(var t=0;t<e.genres.length;t++){var n=e.genres[t];-1!==n.indexOf("jazz")||-1!==n.indexOf("blues")||-1!==n.indexOf("classical")||-1!==n.indexOf("folk")?a.RC++:-1!==n.indexOf("rock")||-1!==n.indexOf("alt")||-1!==n.indexOf("metal")?a.IR++:-1!==n.indexOf("country")||-1!==n.indexOf("soundtracks")||-1!==n.indexOf("pop")||-1!==n.indexOf("gospel")?a.UC++:-1===n.indexOf("rap")&&-1===n.indexOf("hip hop")&&-1===n.indexOf("soul")&&-1===n.indexOf("funk")&&-1===n.indexOf("edm")&&-1===n.indexOf("electronic")&&-1===n.indexOf("dance")&&-1===n.indexOf("house")&&-1===n.indexOf("techno")||a.ER++}})),n=Object.keys(a).reduce((function(e,t){return e?a[t]>a[e]?t:e:t}),null),e.abrupt("return",Object(ae.a)({highestDimension:n},a));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"calculateMusicPreferenceCode",value:function(){var e=Object(E.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.questions.some((function(e){return null==e.value}))){e.next=5;break}return this.setState({error:"Must complete all the questions."}),e.abrupt("return");case 5:this.setState({error:""});case 6:return t=this.getSortedMusicUseAverages(),a=this.getInvolvementLevelScore(),e.next=10,this.getMusicDimensionScores();case 10:n=e.sent,this.setState({preferenceCode:"".concat(a,"-").concat(t[0].code).concat(t[1].code,"-").concat(n.highestDimension)}),window.scrollTo({top:0,left:0,behavior:"smooth"}),document.getElementById("code-explanation").classList.remove("d-none");case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getInvolvementLevelScore",value:function(){var e=this.state.questions.filter((function(e){return e.category==le.INVOLVEMENT_LEVEL})),t=e.reduce((function(e,t){return e+t.value}),0)/e.length;return t<1?"L":t<3?"M":"H"}},{key:"getSortedMusicUseAverages",value:function(){var e=this.state.questions.filter((function(e){return e.category==le.COPING})),t=this.state.questions.filter((function(e){return e.category==le.MOOD_ENHANCEMENT})),a=this.state.questions.filter((function(e){return e.category==le.SOCIAL_IDENTITY})),n=this.state.questions.filter((function(e){return e.category==le.PERSONAL_IDENTITY})),r=e.reduce((function(e,t){return e+t.value}),0)/e.length,i=t.reduce((function(e,t){return e+t.value}),0)/t.length,l=a.reduce((function(e,t){return e+t.value}),0)/a.length,c=n.reduce((function(e,t){return e+t.value}),0)/n.length;return[{code:"Co",category:le.COPING,avg:r},{code:"Me",category:le.MOOD_ENHANCEMENT,avg:i},{code:"Si",category:le.SOCIAL_IDENTITY,avg:l},{code:"Pi",category:le.PERSONAL_IDENTITY,avg:c}].sort((function(e,t){return t.avg-e.avg}))}},{key:"render",value:function(){var e=this;return r.a.createElement(Q.a,{xs:12,className:"mt-5"},r.a.createElement("div",{className:"mb-5"},r.a.createElement("h3",null," Mutual Melodies Music Preference Quiz "),r.a.createElement("p",null,"This quiz is designed to give you an understanding of your music listening preference and the different components of it. The quiz determines the kind of music you listen to using the data we get from your Spotify account, and the reasons for your music listening habits by using the answers to the questions below. When completed, we return a code that represents the configuration of your music taste, and then you can find people with similar music listening preferences.")),r.a.createElement("div",{className:"text-center my-5"},r.a.createElement("h1",null,this.state.preferenceCode)),r.a.createElement("div",null,r.a.createElement("ul",{id:"code-explanation",className:"d-none"},r.a.createElement("li",null,r.a.createElement("p",{className:"mb-0"},r.a.createElement("strong",null,"First Section: Involvement Level")),r.a.createElement("p",null,"This first section measures how important music is to you and how involved you are. The options are H,M & L (High, Medium, & Low).")),r.a.createElement("li",null,r.a.createElement("p",{className:"mb-0"},r.a.createElement("strong",null,"Second Section: 2 Main Usages for Music Listening.")),r.a.createElement("p",null,"This second section shows you your main uses for music, based on your quiz respones. The options are:"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("p",{className:"mb-0"},r.a.createElement("strong",null,"Coping (Co)")),r.a.createElement("p",null,"You use music to manage and cope with your emotions, almost like a tool.")),r.a.createElement("li",null,r.a.createElement("p",{className:"mb-0"},r.a.createElement("strong",null,"Mood Enhancement (Me)")),r.a.createElement("p",null,"Similar to coping, you use music as a tool to manage your moods while doing other things, like homework.")),r.a.createElement("li",null,r.a.createElement("p",{className:"mb-0"},r.a.createElement("strong",null,"Personal Identity (Pi)")),r.a.createElement("p",null,"You use music to make an identity for yourself, and you see yourself in the music you listen to.")),r.a.createElement("li",null,r.a.createElement("p",{className:"mb-0"},r.a.createElement("strong",null,"Social Identity (Si)")),r.a.createElement("p",null,"You use music to create your social identity among your peers.")))),r.a.createElement("li",null,r.a.createElement("p",{className:"mb-0"},r.a.createElement("strong",null,"Third Section: Most Prominent Music Dimension")),r.a.createElement("p",null,"This last section shows you the music dimension that your music falls into. We use these dimensions, as they represent a few different genres that you may listen to as opposed to a specific sone. The options are:"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("p",{className:"mb-0"},r.a.createElement("strong",null,"Reflective and Complex (RC)")),r.a.createElement("p",null,"This dimension includes genres like blues, jazz, classical, & folk music.")),r.a.createElement("li",null,r.a.createElement("p",{className:"mb-0"},r.a.createElement("strong",null,"Intense and Rebellious (IR)")),r.a.createElement("p",null,"This dimension includes genres like rock, alternative, & heavy metal.")),r.a.createElement("li",null,r.a.createElement("p",{className:"mb-0"},r.a.createElement("strong",null,"Upbeat and Conventional (UC)")),r.a.createElement("p",null,"This dimension includes genres like country, soundtracks, religious, & pop music")),r.a.createElement("li",null,r.a.createElement("p",{className:"mb-0"},r.a.createElement("strong",null,"Energetic and Rhythmic (ER)")),r.a.createElement("p",null,"This dimension includes genres like rap/hip-hop, soul/funk, & electronic/dance music.")))))),r.a.createElement("div",{className:"mt-5"},this.state.questions.map((function(t,a){return r.a.createElement(ie,{id:"question--".concat(a),index:a,key:a,text:t.text,category:t.category,updateQuestionResult:e.updateQuizQuestionResult})}))),r.a.createElement("div",{className:"d-flex mb-5"},r.a.createElement(S.a,{className:"pn-primary-button",onClick:this.calculateMusicPreferenceCode.bind(this)},"GENERATE PREFERENCE CODE"),r.a.createElement("h5",{className:"text-danger"},this.state.error)))}}]),a}(n.Component),se=Object(C.b)((function(e){return{api:e.api?e.api.spotifyApi:null}}))(ce),oe=(a(215),a(216),a(217),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={loggedIn:!1,token:""},w()(Object(o.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=function(){window.scrollTo(0,0)};window.addEventListener("hashchange",t),window.addEventListener("beforeunload",t),window.addEventListener("hashchange",(function(){e.checkForLogin()})),this.checkForLogin()}},{key:"checkForLogin",value:function(){var e=function(e){for(var t=e+"=",a=document.cookie.split(";"),n=0;n<a.length;n++){for(var r=a[n];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return""}("spotifyAccessToken");""!==e&&e!=this.state.token?(this.setState({loggedIn:!0,token:e}),this.props.setSpotifyApi(e)):""===e&&this.setState({loggedIn:!1,token:""})}},{key:"render",value:function(){var e=this.state.loggedIn;return r.a.createElement(p.a,null,r.a.createElement("div",{className:"",id:"app-wrapper"},e?r.a.createElement(r.a.Fragment,null,r.a.createElement(R,null),r.a.createElement("div",{id:"playlists-view-wrapper"},r.a.createElement(te.a,null,r.a.createElement(Y.a,null,r.a.createElement(d.a,{exact:!0,path:"(|/profile)",component:z}),r.a.createElement(d.a,{exact:!0,path:"/playlist-builder",component:ee}),r.a.createElement(d.a,{exact:!0,path:"/music-preference-quiz",component:se}))))):r.a.createElement(T,null)))}}]),a}(r.a.Component)),ue=Object(C.b)(null,(function(e){return{setSpotifyApi:function(t){return e(function(e){return function(t){var a=new A.a({clientId:N,redirectUri:"https://playlistninja.app"});a.setAccessToken(e),t({type:"SET_SPOTIFY_API",payload:a})}}(t))}}}))(oe);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var me=a(36),pe=a(111),de=Object(me.combineReducers)({api:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SPOTIFY_API":return Object(ae.a)(Object(ae.a)({},e),{},{spotifyApi:t.payload});case"SET_USER_ID":return Object(ae.a)(Object(ae.a)({},e),{},{userId:t.payload});default:return e}},playlist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SELECTED_PLAYLIST":return Object(ae.a)(Object(ae.a)({},e),{},{selectedPlaylist:t.payload});case"LOAD_EDITABLE_PLAYLISTS":return Object(ae.a)(Object(ae.a)({},e),{},{editablePlaylists:t.payload});default:return e}}}),fe=a(112);l.a.render(r.a.createElement(C.a,{store:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(me.createStore)(de,e,Object(fe.composeWithDevTools)(Object(me.applyMiddleware)(pe.a)))}({api:null,playlist:{editablePlaylists:[]}})},r.a.createElement(ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},84:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){}},[[114,1,2]]]);
//# sourceMappingURL=main.814aa19c.chunk.js.map